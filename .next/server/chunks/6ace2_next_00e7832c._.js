module.exports=[540564,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,a,i,o,s,u,l,c,d,f,h,p,g={AppRenderSpan:function(){return S},AppRouteRouteHandlersSpan:function(){return w},BaseServerSpan:function(){return v},LoadComponentsSpan:function(){return E},LogSpanAllowList:function(){return C},MiddlewareSpan:function(){return P},NextNodeServerSpan:function(){return b},NextServerSpan:function(){return _},NextVanillaSpanAllowlist:function(){return A},NodeSpan:function(){return O},RenderSpan:function(){return R},ResolveMetadataSpan:function(){return N},RouterSpan:function(){return T},StartServerSpan:function(){return y}};for(var m in g)Object.defineProperty(r,m,{enumerable:!0,get:g[m]});var v=((n=v||{}).handleRequest="BaseServer.handleRequest",n.run="BaseServer.run",n.pipe="BaseServer.pipe",n.getStaticHTML="BaseServer.getStaticHTML",n.render="BaseServer.render",n.renderToResponseWithComponents="BaseServer.renderToResponseWithComponents",n.renderToResponse="BaseServer.renderToResponse",n.renderToHTML="BaseServer.renderToHTML",n.renderError="BaseServer.renderError",n.renderErrorToResponse="BaseServer.renderErrorToResponse",n.renderErrorToHTML="BaseServer.renderErrorToHTML",n.render404="BaseServer.render404",n),E=((a=E||{}).loadDefaultErrorComponents="LoadComponents.loadDefaultErrorComponents",a.loadComponents="LoadComponents.loadComponents",a),_=((i=_||{}).getRequestHandler="NextServer.getRequestHandler",i.getRequestHandlerWithMetadata="NextServer.getRequestHandlerWithMetadata",i.getServer="NextServer.getServer",i.getServerRequestHandler="NextServer.getServerRequestHandler",i.createServer="createServer.createServer",i),b=((o=b||{}).compression="NextNodeServer.compression",o.getBuildId="NextNodeServer.getBuildId",o.createComponentTree="NextNodeServer.createComponentTree",o.clientComponentLoading="NextNodeServer.clientComponentLoading",o.getLayoutOrPageModule="NextNodeServer.getLayoutOrPageModule",o.generateStaticRoutes="NextNodeServer.generateStaticRoutes",o.generateFsStaticRoutes="NextNodeServer.generateFsStaticRoutes",o.generatePublicRoutes="NextNodeServer.generatePublicRoutes",o.generateImageRoutes="NextNodeServer.generateImageRoutes.route",o.sendRenderResult="NextNodeServer.sendRenderResult",o.proxyRequest="NextNodeServer.proxyRequest",o.runApi="NextNodeServer.runApi",o.render="NextNodeServer.render",o.renderHTML="NextNodeServer.renderHTML",o.imageOptimizer="NextNodeServer.imageOptimizer",o.getPagePath="NextNodeServer.getPagePath",o.getRoutesManifest="NextNodeServer.getRoutesManifest",o.findPageComponents="NextNodeServer.findPageComponents",o.getFontManifest="NextNodeServer.getFontManifest",o.getServerComponentManifest="NextNodeServer.getServerComponentManifest",o.getRequestHandler="NextNodeServer.getRequestHandler",o.renderToHTML="NextNodeServer.renderToHTML",o.renderError="NextNodeServer.renderError",o.renderErrorToHTML="NextNodeServer.renderErrorToHTML",o.render404="NextNodeServer.render404",o.startResponse="NextNodeServer.startResponse",o.route="route",o.onProxyReq="onProxyReq",o.apiResolver="apiResolver",o.internalFetch="internalFetch",o),y=((s=y||{}).startServer="startServer.startServer",s),R=((u=R||{}).getServerSideProps="Render.getServerSideProps",u.getStaticProps="Render.getStaticProps",u.renderToString="Render.renderToString",u.renderDocument="Render.renderDocument",u.createBodyResult="Render.createBodyResult",u),S=((l=S||{}).renderToString="AppRender.renderToString",l.renderToReadableStream="AppRender.renderToReadableStream",l.getBodyResult="AppRender.getBodyResult",l.fetch="AppRender.fetch",l),T=((c=T||{}).executeRoute="Router.executeRoute",c),O=((d=O||{}).runHandler="Node.runHandler",d),w=((f=w||{}).runHandler="AppRouteRouteHandlers.runHandler",f),N=((h=N||{}).generateMetadata="ResolveMetadata.generateMetadata",h.generateViewport="ResolveMetadata.generateViewport",h),P=((p=P||{}).execute="Middleware.execute",p);let A=new Set(["Middleware.execute","BaseServer.handleRequest","Render.getServerSideProps","Render.getStaticProps","AppRender.fetch","AppRender.getBodyResult","Render.renderDocument","Node.runHandler","AppRouteRouteHandlers.runHandler","ResolveMetadata.generateMetadata","ResolveMetadata.generateViewport","NextNodeServer.createComponentTree","NextNodeServer.findPageComponents","NextNodeServer.getLayoutOrPageModule","NextNodeServer.startResponse","NextNodeServer.clientComponentLoading"]),C=new Set(["NextNodeServer.findPageComponents","NextNodeServer.createComponentTree","NextNodeServer.clientComponentLoading"])},636793,(e,t,r)=>{"use strict";function n(e){return null!==e&&"object"==typeof e&&"then"in e&&"function"==typeof e.then}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isThenable",{enumerable:!0,get:function(){return n}})},263166,(e,t,r)=>{"use strict";let n,a;Object.defineProperty(r,"__esModule",{value:!0});var i={BubbledError:function(){return m},SpanKind:function(){return p},SpanStatusCode:function(){return h},getTracer:function(){return S},isBubbledError:function(){return v}};for(var o in i)Object.defineProperty(r,o,{enumerable:!0,get:i[o]});let s=e.r(540564),u=e.r(636793),l=process.env.NEXT_OTEL_PERFORMANCE_PREFIX;try{n=e.r(270406)}catch(t){n=e.r(252511)}let{context:c,propagation:d,trace:f,SpanStatusCode:h,SpanKind:p,ROOT_CONTEXT:g}=n;class m extends Error{constructor(e,t){super(),this.bubble=e,this.result=t}}function v(e){return"object"==typeof e&&null!==e&&e instanceof m}let E=(e,t)=>{v(t)&&t.bubble?e.setAttribute("next.bubble",!0):(t&&(e.recordException(t),e.setAttribute("error.type",t.name)),e.setStatus({code:h.ERROR,message:null==t?void 0:t.message})),e.end()},_=new Map,b=n.createContextKey("next.rootSpanId"),y=0,R={set(e,t,r){e.push({key:t,value:r})}},S=(a=new class e{getTracerInstance(){return f.getTracer("next.js","0.0.1")}getContext(){return c}getTracePropagationData(){let e=c.active(),t=[];return d.inject(e,t,R),t}getActiveScopeSpan(){return f.getSpan(null==c?void 0:c.active())}withPropagatedContext(e,t,r){let n=c.active();if(f.getSpanContext(n))return t();let a=d.extract(n,e,r);return c.with(a,t)}trace(...e){let[t,r,n]=e,{fn:a,options:i}="function"==typeof r?{fn:r,options:{}}:{fn:n,options:{...r}},o=i.spanName??t;if(!s.NextVanillaSpanAllowlist.has(t)&&"1"!==process.env.NEXT_OTEL_VERBOSE||i.hideSpan)return a();let d=this.getSpanContext((null==i?void 0:i.parentSpan)??this.getActiveScopeSpan());d||(d=(null==c?void 0:c.active())??g);let f=d.getValue(b),h="number"!=typeof f||!_.has(f),p=y++;return i.attributes={"next.span_name":o,"next.span_type":t,...i.attributes},c.with(d.setValue(b,p),()=>this.getTracerInstance().startActiveSpan(o,i,e=>{let r;l&&t&&s.LogSpanAllowList.has(t)&&(r="performance"in globalThis&&"measure"in performance?globalThis.performance.now():void 0);let n=!1,o=()=>{!n&&(n=!0,_.delete(p),r&&performance.measure(`${l}:next-${(t.split(".").pop()||"").replace(/[A-Z]/g,e=>"-"+e.toLowerCase())}`,{start:r,end:performance.now()}))};if(h&&_.set(p,new Map(Object.entries(i.attributes??{}))),a.length>1)try{return a(e,t=>E(e,t))}catch(t){throw E(e,t),t}finally{o()}try{let t=a(e);if((0,u.isThenable)(t))return t.then(t=>(e.end(),t)).catch(t=>{throw E(e,t),t}).finally(o);return e.end(),o(),t}catch(t){throw E(e,t),o(),t}}))}wrap(...e){let t=this,[r,n,a]=3===e.length?e:[e[0],{},e[1]];return s.NextVanillaSpanAllowlist.has(r)||"1"===process.env.NEXT_OTEL_VERBOSE?function(){let e=n;"function"==typeof e&&"function"==typeof a&&(e=e.apply(this,arguments));let i=arguments.length-1,o=arguments[i];if("function"!=typeof o)return t.trace(r,e,()=>a.apply(this,arguments));{let n=t.getContext().bind(c.active(),o);return t.trace(r,e,(e,t)=>(arguments[i]=function(e){return null==t||t(e),n.apply(this,arguments)},a.apply(this,arguments)))}}:a}startSpan(...e){let[t,r]=e,n=this.getSpanContext((null==r?void 0:r.parentSpan)??this.getActiveScopeSpan());return this.getTracerInstance().startSpan(t,r,n)}getSpanContext(e){return e?f.setSpan(c.active(),e):void 0}getRootSpanAttributes(){let e=c.active().getValue(b);return _.get(e)}setRootSpanAttribute(e,t){let r=c.active().getValue(b),n=_.get(r);n&&!n.has(e)&&n.set(e,t)}withSpan(e,t){let r=f.setSpan(c.active(),e);return c.with(r,t)}},()=>a)},898221,(e,t,r)=>{"use strict";let n;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"cloneResponse",{enumerable:!0,get:function(){return i}});let a=()=>{};function i(e){if(!e.body)return[e,e];let[t,r]=e.body.tee(),a=new Response(t,{status:e.status,statusText:e.statusText,headers:e.headers});Object.defineProperty(a,"url",{value:e.url,configurable:!0,enumerable:!0,writable:!1}),n&&a.body&&n.register(a,new WeakRef(a.body));let i=new Response(r,{status:e.status,statusText:e.statusText,headers:e.headers});return Object.defineProperty(i,"url",{value:e.url,configurable:!0,enumerable:!0,writable:!1}),[a,i]}globalThis.FinalizationRegistry&&(n=new FinalizationRegistry(e=>{let t=e.deref();t&&!t.locked&&t.cancel("Response object has been garbage collected").then(a)}))},847483,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"createDedupeFetch",{enumerable:!0,get:function(){return u}});let n=function(e,t){if(e&&e.__esModule)return e;if(null===e||"object"!=typeof e&&"function"!=typeof e)return{default:e};var r=o(void 0);if(r&&r.has(e))return r.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&Object.prototype.hasOwnProperty.call(e,i)){var s=a?Object.getOwnPropertyDescriptor(e,i):null;s&&(s.get||s.set)?Object.defineProperty(n,i,s):n[i]=e[i]}return n.default=e,r&&r.set(e,n),n}(e.r(988981)),a=e.r(898221),i=e.r(607576);function o(e){if("function"!=typeof WeakMap)return null;var t=new WeakMap,r=new WeakMap;return(o=function(e){return e?r:t})(e)}let s=new Set(["traceparent","tracestate"]);function u(e){let t=n.cache(e=>[]);return function(r,n){let o,u;if(n&&n.signal)return e(r,n);if("string"!=typeof r||n){let t,a="string"==typeof r||r instanceof URL?new Request(r,n):r;if("GET"!==a.method&&"HEAD"!==a.method||a.keepalive)return e(r,n);t=Array.from(a.headers.entries()).filter(([e])=>!s.has(e.toLowerCase())),u=JSON.stringify([a.method,t,a.mode,a.redirect,a.credentials,a.referrer,a.referrerPolicy,a.integrity]),o=a.url}else u='["GET",[],null,"follow",null,null,null,null]',o=r;let l=t(o);for(let e=0,t=l.length;e<t;e+=1){let[t,r]=l[e];if(t===u)return r.then(()=>{let t=l[e][2];if(!t)throw Object.defineProperty(new i.InvariantError("No cached response"),"__NEXT_ERROR_CODE",{value:"E579",enumerable:!1,configurable:!0});let[r,n]=(0,a.cloneResponse)(t);return l[e][2]=n,r})}let c=e(r,n),d=[u,c,null];return l.push(d),c.then(e=>{let[t,r]=(0,a.cloneResponse)(e);return d[2]=r,t})}}},505681,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,a,i={CachedRouteKind:function(){return s},IncrementalCacheKind:function(){return u}};for(var o in i)Object.defineProperty(r,o,{enumerable:!0,get:i[o]});var s=((n={}).APP_PAGE="APP_PAGE",n.APP_ROUTE="APP_ROUTE",n.PAGES="PAGES",n.FETCH="FETCH",n.REDIRECT="REDIRECT",n.IMAGE="IMAGE",n),u=((a={}).APP_PAGE="APP_PAGE",a.APP_ROUTE="APP_ROUTE",a.PAGES="PAGES",a.FETCH="FETCH",a.IMAGE="IMAGE",a)},569199,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"DetachedPromise",{enumerable:!0,get:function(){return n}});class n{constructor(){let e,t;this.promise=new Promise((r,n)=>{e=r,t=n}),this.resolve=e,this.reject=t}}},783308,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"Batcher",{enumerable:!0,get:function(){return a}});let n=e.r(569199);class a{constructor(e,t=e=>e()){this.cacheKeyFn=e,this.schedulerFn=t,this.pending=new Map}static create(e){return new a(null==e?void 0:e.cacheKeyFn,null==e?void 0:e.schedulerFn)}async batch(e,t){let r=this.cacheKeyFn?await this.cacheKeyFn(e):e;if(null===r)return t({resolve:e=>Promise.resolve(e),key:e});let a=this.pending.get(r);if(a)return a;let{promise:i,resolve:o,reject:s}=new n.DetachedPromise;return this.pending.set(r,i),this.schedulerFn(async()=>{try{let r=await t({resolve:o,key:e});o(r)}catch(e){s(e)}finally{this.pending.delete(r)}}),i}}},192409,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"LRUCache",{enumerable:!0,get:function(){return i}});class n{constructor(e,t,r){this.prev=null,this.next=null,this.key=e,this.data=t,this.size=r}}class a{constructor(){this.prev=null,this.next=null}}class i{constructor(e,t,r){this.cache=new Map,this.totalSize=0,this.maxSize=e,this.calculateSize=t,this.onEvict=r,this.head=new a,this.tail=new a,this.head.next=this.tail,this.tail.prev=this.head}addToHead(e){e.prev=this.head,e.next=this.head.next,this.head.next.prev=e,this.head.next=e}removeNode(e){e.prev.next=e.next,e.next.prev=e.prev}moveToHead(e){this.removeNode(e),this.addToHead(e)}removeTail(){let e=this.tail.prev;return this.removeNode(e),e}set(e,t){let r=(null==this.calculateSize?void 0:this.calculateSize.call(this,t))??1;if(r>this.maxSize)return void console.warn("Single item size exceeds maxSize");let a=this.cache.get(e);if(a)a.data=t,this.totalSize=this.totalSize-a.size+r,a.size=r,this.moveToHead(a);else{let a=new n(e,t,r);this.cache.set(e,a),this.addToHead(a),this.totalSize+=r}for(;this.totalSize>this.maxSize&&this.cache.size>0;){let e=this.removeTail();this.cache.delete(e.key),this.totalSize-=e.size,null==this.onEvict||this.onEvict.call(this,e.key,e.data)}}has(e){return this.cache.has(e)}get(e){let t=this.cache.get(e);if(t)return this.moveToHead(t),t.data}*[Symbol.iterator](){let e=this.head.next;for(;e&&e!==this.tail;){let t=e;yield[t.key,t.data],e=e.next}}remove(e){let t=this.cache.get(e);t&&(this.removeNode(t),this.cache.delete(e),this.totalSize-=t.size)}get size(){return this.cache.size}get currentSize(){return this.totalSize}}},948116,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,a={bgBlack:function(){return A},bgBlue:function(){return j},bgCyan:function(){return M},bgGreen:function(){return x},bgMagenta:function(){return I},bgRed:function(){return C},bgWhite:function(){return k},bgYellow:function(){return D},black:function(){return _},blue:function(){return S},bold:function(){return f},cyan:function(){return w},dim:function(){return h},gray:function(){return P},green:function(){return y},hidden:function(){return v},inverse:function(){return m},italic:function(){return p},magenta:function(){return T},purple:function(){return O},red:function(){return b},reset:function(){return d},strikethrough:function(){return E},underline:function(){return g},white:function(){return N},yellow:function(){return R}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let{env:o,stdout:s}=(null==(n=globalThis)?void 0:n.process)??{},u=o&&!o.NO_COLOR&&(o.FORCE_COLOR||(null==s?void 0:s.isTTY)&&!o.CI&&"dumb"!==o.TERM),l=(e,t,r,n)=>{let a=e.substring(0,n)+r,i=e.substring(n+t.length),o=i.indexOf(t);return~o?a+l(i,t,r,o):a+i},c=(e,t,r=e)=>u?n=>{let a=""+n,i=a.indexOf(t,e.length);return~i?e+l(a,t,r,i)+t:e+a+t}:String,d=u?e=>`\x1b[0m${e}\x1b[0m`:String,f=c("\x1b[1m","\x1b[22m","\x1b[22m\x1b[1m"),h=c("\x1b[2m","\x1b[22m","\x1b[22m\x1b[2m"),p=c("\x1b[3m","\x1b[23m"),g=c("\x1b[4m","\x1b[24m"),m=c("\x1b[7m","\x1b[27m"),v=c("\x1b[8m","\x1b[28m"),E=c("\x1b[9m","\x1b[29m"),_=c("\x1b[30m","\x1b[39m"),b=c("\x1b[31m","\x1b[39m"),y=c("\x1b[32m","\x1b[39m"),R=c("\x1b[33m","\x1b[39m"),S=c("\x1b[34m","\x1b[39m"),T=c("\x1b[35m","\x1b[39m"),O=c("\x1b[38;2;173;127;168m","\x1b[39m"),w=c("\x1b[36m","\x1b[39m"),N=c("\x1b[37m","\x1b[39m"),P=c("\x1b[90m","\x1b[39m"),A=c("\x1b[40m","\x1b[49m"),C=c("\x1b[41m","\x1b[49m"),x=c("\x1b[42m","\x1b[49m"),D=c("\x1b[43m","\x1b[49m"),j=c("\x1b[44m","\x1b[49m"),I=c("\x1b[45m","\x1b[49m"),M=c("\x1b[46m","\x1b[49m"),k=c("\x1b[47m","\x1b[49m")},791533,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={bootstrap:function(){return c},error:function(){return f},errorOnce:function(){return y},event:function(){return m},info:function(){return g},prefixes:function(){return s},ready:function(){return p},trace:function(){return v},wait:function(){return d},warn:function(){return h},warnOnce:function(){return _}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i=e.r(948116),o=e.r(192409),s={wait:(0,i.white)((0,i.bold)("○")),error:(0,i.red)((0,i.bold)("⨯")),warn:(0,i.yellow)((0,i.bold)("⚠")),ready:"▲",info:(0,i.white)((0,i.bold)(" ")),event:(0,i.green)((0,i.bold)("✓")),trace:(0,i.magenta)((0,i.bold)("»"))},u={log:"log",warn:"warn",error:"error"};function l(e,...t){(""===t[0]||void 0===t[0])&&1===t.length&&t.shift();let r=e in u?u[e]:"log",n=s[e];0===t.length?console[r](""):1===t.length&&"string"==typeof t[0]?console[r](n+" "+t[0]):console[r](n,...t)}function c(e){console.log(e)}function d(...e){l("wait",...e)}function f(...e){l("error",...e)}function h(...e){l("warn",...e)}function p(...e){l("ready",...e)}function g(...e){l("info",...e)}function m(...e){l("event",...e)}function v(...e){l("trace",...e)}let E=new o.LRUCache(1e4,e=>e.length);function _(...e){let t=e.join(" ");E.has(t)||(E.set(t,t),h(...e))}let b=new o.LRUCache(1e4,e=>e.length);function y(...e){let t=e.join(" ");b.has(t)||(b.set(t,t),f(...e))}},539760,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ENCODED_TAGS",{enumerable:!0,get:function(){return n}});let n={OPENING:{HTML:new Uint8Array([60,104,116,109,108]),BODY:new Uint8Array([60,98,111,100,121])},CLOSED:{HEAD:new Uint8Array([60,47,104,101,97,100,62]),BODY:new Uint8Array([60,47,98,111,100,121,62]),HTML:new Uint8Array([60,47,104,116,109,108,62]),BODY_AND_HTML:new Uint8Array([60,47,98,111,100,121,62,60,47,104,116,109,108,62])},META:{ICON_MARK:new Uint8Array([60,109,101,116,97,32,110,97,109,101,61,34,194,171,110,120,116,45,105,99,111,110,194,187,34])}}},868275,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={indexOfUint8Array:function(){return i},isEquivalentUint8Arrays:function(){return o},removeFromUint8Array:function(){return s}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});function i(e,t){if(0===t.length)return 0;if(0===e.length||t.length>e.length)return -1;for(let r=0;r<=e.length-t.length;r++){let n=!0;for(let a=0;a<t.length;a++)if(e[r+a]!==t[a]){n=!1;break}if(n)return r}return -1}function o(e,t){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0}function s(e,t){let r=i(e,t);if(0===r)return e.subarray(t.length);if(!(r>-1))return e;{let n=new Uint8Array(e.length-t.length);return n.set(e.slice(0,r)),n.set(e.slice(r+t.length),r),n}}},249921,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"MISSING_ROOT_TAGS_ERROR",{enumerable:!0,get:function(){return n}});let n="NEXT_MISSING_ROOT_TAGS";("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},179510,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"insertBuildIdComment",{enumerable:!0,get:function(){return a}});let n="<!DOCTYPE html>";function a(e,t){return t.includes("-->")||!e.startsWith(n)?e:e.replace(n,n+"<!--"+t.slice(0,24).replace(/-/g,"_")+"-->")}},325591,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={ACTION_HEADER:function(){return o},FLIGHT_HEADERS:function(){return p},NEXT_ACTION_NOT_FOUND_HEADER:function(){return y},NEXT_ACTION_REVALIDATED_HEADER:function(){return T},NEXT_DID_POSTPONE_HEADER:function(){return v},NEXT_HMR_REFRESH_HASH_COOKIE:function(){return d},NEXT_HMR_REFRESH_HEADER:function(){return c},NEXT_HTML_REQUEST_ID_HEADER:function(){return S},NEXT_IS_PRERENDER_HEADER:function(){return b},NEXT_REQUEST_ID_HEADER:function(){return R},NEXT_REWRITTEN_PATH_HEADER:function(){return E},NEXT_REWRITTEN_QUERY_HEADER:function(){return _},NEXT_ROUTER_PREFETCH_HEADER:function(){return u},NEXT_ROUTER_SEGMENT_PREFETCH_HEADER:function(){return l},NEXT_ROUTER_STALE_TIME_HEADER:function(){return m},NEXT_ROUTER_STATE_TREE_HEADER:function(){return s},NEXT_RSC_UNION_QUERY:function(){return g},NEXT_URL:function(){return f},RSC_CONTENT_TYPE_HEADER:function(){return h},RSC_HEADER:function(){return i}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i="rsc",o="next-action",s="next-router-state-tree",u="next-router-prefetch",l="next-router-segment-prefetch",c="next-hmr-refresh",d="__next_hmr_refresh_hash__",f="next-url",h="text/x-component",p=[i,s,u,c,l],g="_rsc",m="x-nextjs-stale-time",v="x-nextjs-postponed",E="x-nextjs-rewritten-path",_="x-nextjs-rewritten-query",b="x-nextjs-prerender",y="x-nextjs-action-not-found",R="x-nextjs-request-id",S="x-nextjs-html-request-id",T="x-action-revalidated";("function"==typeof r.default||"object"==typeof r.default&&null!==r.default)&&void 0===r.default.__esModule&&(Object.defineProperty(r.default,"__esModule",{value:!0}),Object.assign(r.default,r),t.exports=r.default)},141012,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={djb2Hash:function(){return i},hexHash:function(){return o}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});function i(e){let t=5381;for(let r=0;r<e.length;r++)t=(t<<5)+t+e.charCodeAt(r)|0;return t>>>0}function o(e){return i(e).toString(36).slice(0,5)}},14582,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"computeCacheBustingSearchParam",{enumerable:!0,get:function(){return a}});let n=e.r(141012);function a(e,t,r,a){return(void 0===e||"0"===e)&&void 0===t&&void 0===r&&void 0===a?"":(0,n.hexHash)([e||"0",t||"0",r||"0",a||"0"].join(","))}},581424,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={chainStreams:function(){return v},continueDynamicHTMLResume:function(){return H},continueDynamicPrerender:function(){return I},continueFizzStream:function(){return j},continueStaticFallbackPrerender:function(){return k},continueStaticPrerender:function(){return M},createBufferedTransformStream:function(){return T},createDocumentClosingStream:function(){return L},createRootLayoutValidatorStream:function(){return D},renderToInitialFizzStream:function(){return w},streamFromBuffer:function(){return _},streamFromString:function(){return E},streamToBuffer:function(){return R},streamToString:function(){return S},streamToUint8Array:function(){return y}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i=e.r(263166),o=e.r(540564),s=e.r(569199),u=e.r(146292),l=e.r(539760),c=e.r(868275),d=e.r(249921),f=e.r(179510),h=e.r(325591),p=e.r(14582);function g(){}let m=new TextEncoder;function v(...e){if(0===e.length)return new ReadableStream({start(e){e.close()}});if(1===e.length)return e[0];let{readable:t,writable:r}=new TransformStream,n=e[0].pipeTo(r,{preventClose:!0}),a=1;for(;a<e.length-1;a++){let t=e[a];n=n.then(()=>t.pipeTo(r,{preventClose:!0}))}let i=e[a];return(n=n.then(()=>i.pipeTo(r))).catch(g),t}function E(e){return new ReadableStream({start(t){t.enqueue(m.encode(e)),t.close()}})}function _(e){return new ReadableStream({start(t){t.enqueue(e),t.close()}})}async function b(e){let t=e.getReader(),r=[];for(;;){let{done:e,value:n}=await t.read();if(e)break;r.push(n)}return r}async function y(e){var t=await b(e);let r=new Uint8Array(t.reduce((e,t)=>e+t.length,0)),n=0;for(let e of t)r.set(e,n),n+=e.length;return r}async function R(e){return Buffer.concat(await b(e))}async function S(e,t){let r=new TextDecoder("utf-8",{fatal:!0}),n="";for await(let a of e){if(null==t?void 0:t.aborted)return n;n+=r.decode(a,{stream:!0})}return n+r.decode()}function T(e={}){let t,{maxBufferByteLength:r=1/0}=e,n=[],a=0,i=e=>{try{if(0===n.length)return;let t=new Uint8Array(a),r=0;for(let e=0;e<n.length;e++){let a=n[e];t.set(a,r),r+=a.byteLength}n.length=0,a=0,e.enqueue(t)}catch{}};return new TransformStream({transform(e,o){n.push(e),(a+=e.byteLength)>=r?i(o):(e=>{if(t)return;let r=new s.DetachedPromise;t=r,(0,u.scheduleImmediate)(()=>{try{i(e)}finally{t=void 0,r.resolve()}})})(o)},flush:()=>null==t?void 0:t.promise})}function O(e,t){let r=!1;return new TransformStream({transform(n,a){if(e&&!r){r=!0;let e=new TextDecoder("utf-8",{fatal:!0}).decode(n,{stream:!0}),i=(0,f.insertBuildIdComment)(e,t);a.enqueue(m.encode(i));return}a.enqueue(n)}})}function w({ReactDOMServer:e,element:t,streamOptions:r}){return(0,i.getTracer)().trace(o.AppRenderSpan.renderToReadableStream,async()=>e.renderToReadableStream(t,r))}function N(e){let t=-1,r=!1;return new TransformStream({async transform(n,a){let i=-1,o=-1;if(t++,r)return void a.enqueue(n);let s=0;if(-1===i){if(-1===(i=(0,c.indexOfUint8Array)(n,l.ENCODED_TAGS.META.ICON_MARK)))return void a.enqueue(n);47===n[i+(s=l.ENCODED_TAGS.META.ICON_MARK.length)]?s+=2:s++}if(0===t){if(o=(0,c.indexOfUint8Array)(n,l.ENCODED_TAGS.CLOSED.HEAD),-1!==i){if(i<o){let e=new Uint8Array(n.length-s);e.set(n.subarray(0,i)),e.set(n.subarray(i+s),i),n=e}else{let t=await e(),r=m.encode(t),a=r.length,o=new Uint8Array(n.length-s+a);o.set(n.subarray(0,i)),o.set(r,i),o.set(n.subarray(i+s),i+a),n=o}r=!0}}else{let t=await e(),a=m.encode(t),o=a.length,u=new Uint8Array(n.length-s+o);u.set(n.subarray(0,i)),u.set(a,i),u.set(n.subarray(i+s),i+o),n=u,r=!0}a.enqueue(n)}})}function P(e){let t=!1,r=!1;return new TransformStream({async transform(n,a){r=!0;let i=await e();if(t){if(i){let e=m.encode(i);a.enqueue(e)}a.enqueue(n)}else{let e=(0,c.indexOfUint8Array)(n,l.ENCODED_TAGS.CLOSED.HEAD);if(-1!==e){if(i){let t=m.encode(i),r=new Uint8Array(n.length+t.length);r.set(n.slice(0,e)),r.set(t,e),r.set(n.slice(e),e+t.length),a.enqueue(r)}else a.enqueue(n);t=!0}else i&&a.enqueue(m.encode(i)),a.enqueue(n),t=!0}},async flush(t){if(r){let r=await e();r&&t.enqueue(m.encode(r))}}})}function A(e,t){let r=!1,n=null,a=!1;function i(e){return n||(n=o(e)),n}async function o(n){let i=e.getReader();t&&await (0,u.atLeastOneTask)();try{for(;;){let{done:e,value:o}=await i.read();if(e){a=!0;return}t||r||await (0,u.atLeastOneTask)(),n.enqueue(o)}}catch(e){n.error(e)}}return new TransformStream({start(e){t||i(e)},transform(e,r){r.enqueue(e),t&&i(r)},flush(e){if(r=!0,!a)return i(e)}})}let C="</body></html>";function x(){let e=!1;return new TransformStream({transform(t,r){if(e)return r.enqueue(t);let n=(0,c.indexOfUint8Array)(t,l.ENCODED_TAGS.CLOSED.BODY_AND_HTML);if(n>-1){if(e=!0,t.length===l.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length)return;let a=t.slice(0,n);if(r.enqueue(a),t.length>l.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length+n){let e=t.slice(n+l.ENCODED_TAGS.CLOSED.BODY_AND_HTML.length);r.enqueue(e)}}else r.enqueue(t)},flush(e){e.enqueue(l.ENCODED_TAGS.CLOSED.BODY_AND_HTML)}})}function D(){let e=!1,t=!1;return new TransformStream({async transform(r,n){!e&&(0,c.indexOfUint8Array)(r,l.ENCODED_TAGS.OPENING.HTML)>-1&&(e=!0),!t&&(0,c.indexOfUint8Array)(r,l.ENCODED_TAGS.OPENING.BODY)>-1&&(t=!0),n.enqueue(r)},flush(r){let n=[];e||n.push("html"),t||n.push("body"),n.length&&r.enqueue(m.encode(`<html id="__next_error__">
            <template
              data-next-error-message="Missing ${n.map(e=>`<${e}>`).join(n.length>1?" and ":"")} tags in the root layout.
Read more at https://nextjs.org/docs/messages/missing-root-layout-tags"
              data-next-error-digest="${d.MISSING_ROOT_TAGS_ERROR}"
              data-next-error-stack=""
            ></template>
          `))}})}async function j(e,{suffix:t,inlinedDataStream:r,isStaticGeneration:n,isBuildTimePrerendering:a,buildId:i,getServerInsertedHTML:o,getServerInsertedMetadata:l,validateRootLayout:c}){let d,f,h=t?t.split(C,1)[0]:null;n?await e.allReady:await (0,u.waitAtLeastOneReactRenderTask)();var p=[T(),O(a,i),N(l),null!=h&&h.length>0?(f=!1,new TransformStream({transform(e,t){if(t.enqueue(e),!f){let e;f=!0,d=e=new s.DetachedPromise,(0,u.scheduleImmediate)(()=>{try{t.enqueue(m.encode(h))}catch{}finally{d=void 0,e.resolve()}})}},flush(e){if(d)return d.promise;f||e.enqueue(m.encode(h))}})):null,r?A(r,!0):null,c?D():null,x(),P(o)];let g=e;for(let e of p)e&&(g=g.pipeThrough(e));return g}async function I(e,{getServerInsertedHTML:t,getServerInsertedMetadata:r}){return e.pipeThrough(T()).pipeThrough(new TransformStream({transform(e,t){(0,c.isEquivalentUint8Arrays)(e,l.ENCODED_TAGS.CLOSED.BODY_AND_HTML)||(0,c.isEquivalentUint8Arrays)(e,l.ENCODED_TAGS.CLOSED.BODY)||(0,c.isEquivalentUint8Arrays)(e,l.ENCODED_TAGS.CLOSED.HTML)||(e=(0,c.removeFromUint8Array)(e,l.ENCODED_TAGS.CLOSED.BODY),e=(0,c.removeFromUint8Array)(e,l.ENCODED_TAGS.CLOSED.HTML),t.enqueue(e))}})).pipeThrough(P(t)).pipeThrough(N(r))}async function M(e,{inlinedDataStream:t,getServerInsertedHTML:r,getServerInsertedMetadata:n,isBuildTimePrerendering:a,buildId:i}){return e.pipeThrough(T()).pipeThrough(O(a,i)).pipeThrough(P(r)).pipeThrough(N(n)).pipeThrough(A(t,!0)).pipeThrough(x())}async function k(e,{inlinedDataStream:t,getServerInsertedHTML:r,getServerInsertedMetadata:n,isBuildTimePrerendering:a,buildId:i}){let o,s,u,d;return e.pipeThrough(T()).pipeThrough(O(a,i)).pipeThrough(P(r)).pipeThrough((o=(0,p.computeCacheBustingSearchParam)("1","/_full",void 0,void 0),s=`${h.NEXT_RSC_UNION_QUERY}=${o}`,u=`<script>__NEXT_CLIENT_RESUME=fetch(location.pathname+'?${s}',{credentials:'same-origin',headers:{'${h.RSC_HEADER}': '1','${h.NEXT_ROUTER_PREFETCH_HEADER}': '1','${h.NEXT_ROUTER_SEGMENT_PREFETCH_HEADER}': '/_full'}})</script>`,d=!1,new TransformStream({transform(e,t){if(d)return void t.enqueue(e);let r=(0,c.indexOfUint8Array)(e,l.ENCODED_TAGS.CLOSED.HEAD);if(-1===r)return void t.enqueue(e);let n=m.encode(u),a=new Uint8Array(e.length+n.length);a.set(e.slice(0,r)),a.set(n,r),a.set(e.slice(r),r+n.length),t.enqueue(a),d=!0}}))).pipeThrough(N(n)).pipeThrough(A(t,!0)).pipeThrough(x())}async function H(e,{delayDataUntilFirstHtmlChunk:t,inlinedDataStream:r,getServerInsertedHTML:n,getServerInsertedMetadata:a}){return e.pipeThrough(T()).pipeThrough(P(n)).pipeThrough(N(a)).pipeThrough(A(r,t)).pipeThrough(x())}function L(){return E(C)}},508682,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={NEXT_REQUEST_META:function(){return i},addRequestMeta:function(){return u},getRequestMeta:function(){return o},removeRequestMeta:function(){return l},setRequestMeta:function(){return s}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i=Symbol.for("NextInternalRequestMeta");function o(e,t){let r=e[i]||{};return"string"==typeof t?r[t]:r}function s(e,t){return e[i]=t,t}function u(e,t,r){let n=o(e);return n[t]=r,s(e,n)}function l(e,t){let r=o(e);return delete r[t],s(e,r)}},847997,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={isNodeNextRequest:function(){return s},isNodeNextResponse:function(){return u},isWebNextRequest:function(){return i},isWebNextResponse:function(){return o}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i=e=>!1,o=e=>!1,s=e=>!0,u=e=>!0},180959,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={NextRequestAdapter:function(){return h},ResponseAborted:function(){return c},ResponseAbortedName:function(){return l},createAbortController:function(){return d},signalFromNodeResponse:function(){return f}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i=e.r(508682),o=e.r(627526),s=e.r(32481),u=e.r(847997),l="ResponseAborted";class c extends Error{constructor(...e){super(...e),this.name=l}}function d(e){let t=new AbortController;return e.once("close",()=>{e.writableFinished||t.abort(new c)}),t}function f(e){let{errored:t,destroyed:r}=e;if(t||r)return AbortSignal.abort(t??new c);let{signal:n}=d(e);return n}class h{static fromBaseNextRequest(e,t){if((0,u.isNodeNextRequest)(e))return h.fromNodeNextRequest(e,t);throw Object.defineProperty(Error("Invariant: Unsupported NextRequest type"),"__NEXT_ERROR_CODE",{value:"E345",enumerable:!1,configurable:!0})}static fromNodeNextRequest(e,t){let r,n=null;if("GET"!==e.method&&"HEAD"!==e.method&&e.body&&(n=e.body),e.url.startsWith("http"))r=new URL(e.url);else{let t=(0,i.getRequestMeta)(e,"initURL");r=t&&t.startsWith("http")?new URL(e.url,t):new URL(e.url,"http://n")}return new s.NextRequest(r,{method:e.method,headers:(0,o.fromNodeOutgoingHttpHeaders)(e.headers),duplex:"half",signal:t,...t.aborted?{}:{body:n}})}static fromWebNextRequest(e){let t=null;return"GET"!==e.method&&"HEAD"!==e.method&&(t=e.body),new s.NextRequest(e.url,{method:e.method,headers:(0,o.fromNodeOutgoingHttpHeaders)(e.headers),duplex:"half",signal:e.request.signal,...e.request.signal.aborted?{}:{body:t}})}}},992912,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getClientComponentLoaderMetrics:function(){return l},wrapClientComponentLoader:function(){return u}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i=0,o=0,s=0;function u(e){return"performance"in globalThis?{require:(...t)=>{let r=performance.now();0===i&&(i=r);try{return s+=1,e.__next_app__.require(...t)}finally{o+=performance.now()-r}},loadChunk:(...t)=>{let r=performance.now(),n=e.__next_app__.loadChunk(...t);return n.finally(()=>{o+=performance.now()-r}),n}}:e.__next_app__}function l(e={}){let t=0===i?void 0:{clientComponentLoadStart:i,clientComponentLoadTimes:o,clientComponentLoadCount:s};return e.reset&&(i=0,o=0,s=0),t}},647205,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={isAbortError:function(){return c},pipeToNodeResponse:function(){return d}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i=e.r(180959),o=e.r(569199),s=e.r(263166),u=e.r(540564),l=e.r(992912);function c(e){return(null==e?void 0:e.name)==="AbortError"||(null==e?void 0:e.name)===i.ResponseAbortedName}async function d(e,t,r){try{let{errored:n,destroyed:a}=t;if(n||a)return;let c=(0,i.createAbortController)(t),d=function(e,t){let r=!1,n=new o.DetachedPromise;function a(){n.resolve()}e.on("drain",a),e.once("close",()=>{e.off("drain",a),n.resolve()});let i=new o.DetachedPromise;return e.once("finish",()=>{i.resolve()}),new WritableStream({write:async t=>{if(!r){if(r=!0,"performance"in globalThis&&process.env.NEXT_OTEL_PERFORMANCE_PREFIX){let e=(0,l.getClientComponentLoaderMetrics)();e&&performance.measure(`${process.env.NEXT_OTEL_PERFORMANCE_PREFIX}:next-client-component-loading`,{start:e.clientComponentLoadStart,end:e.clientComponentLoadStart+e.clientComponentLoadTimes})}e.flushHeaders(),(0,s.getTracer)().trace(u.NextNodeServerSpan.startResponse,{spanName:"start response"},()=>void 0)}try{let r=e.write(t);"flush"in e&&"function"==typeof e.flush&&e.flush(),r||(await n.promise,n=new o.DetachedPromise)}catch(t){throw e.end(),Object.defineProperty(Error("failed to write chunk to response",{cause:t}),"__NEXT_ERROR_CODE",{value:"E321",enumerable:!1,configurable:!0})}},abort:t=>{e.writableFinished||e.destroy(t)},close:async()=>{if(t&&await t,!e.writableFinished)return e.end(),i.promise}})}(t,r);await e.pipeTo(d,{signal:c.signal})}catch(e){if(c(e))return;throw Object.defineProperty(Error("failed to pipe response",{cause:e}),"__NEXT_ERROR_CODE",{value:"E180",enumerable:!1,configurable:!0})}}},837105,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return o}});let n=e.r(581424),a=e.r(647205),i=e.r(607576);class o{static #e=this.EMPTY=new o(null,{metadata:{},contentType:null});static fromStatic(e,t){return new o(e,{metadata:{},contentType:t})}constructor(e,{contentType:t,waitUntil:r,metadata:n}){this.response=e,this.contentType=t,this.metadata=n,this.waitUntil=r}assignMetadata(e){Object.assign(this.metadata,e)}get isNull(){return null===this.response}get isDynamic(){return"string"!=typeof this.response}toUnchunkedString(e=!1){if(null===this.response)return"";if("string"!=typeof this.response){if(!e)throw Object.defineProperty(new i.InvariantError("dynamic responses cannot be unchunked. This is a bug in Next.js"),"__NEXT_ERROR_CODE",{value:"E732",enumerable:!1,configurable:!0});return(0,n.streamToString)(this.readable)}return this.response}get readable(){return null===this.response?new ReadableStream({start(e){e.close()}}):"string"==typeof this.response?(0,n.streamFromString)(this.response):Buffer.isBuffer(this.response)?(0,n.streamFromBuffer)(this.response):Array.isArray(this.response)?(0,n.chainStreams)(...this.response):this.response}coerce(){return null===this.response?[]:"string"==typeof this.response?[(0,n.streamFromString)(this.response)]:Array.isArray(this.response)?this.response:Buffer.isBuffer(this.response)?[(0,n.streamFromBuffer)(this.response)]:[this.response]}unshift(e){this.response=this.coerce(),this.response.unshift(e)}push(e){this.response=this.coerce(),this.response.push(e)}async pipeTo(e){try{await this.readable.pipeTo(e,{preventClose:!0}),this.waitUntil&&await this.waitUntil,await e.close()}catch(t){if((0,a.isAbortError)(t))return void await e.abort(t);throw t}}async pipeToNodeResponse(e){await (0,a.pipeToNodeResponse)(this.readable,e,this.waitUntil)}}},150743,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"RouteKind",{enumerable:!0,get:function(){return a}});var n,a=((n={}).PAGES="PAGES",n.PAGES_API="PAGES_API",n.APP_PAGE="APP_PAGE",n.APP_ROUTE="APP_ROUTE",n.IMAGE="IMAGE",n)},684874,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n,a={fromResponseCacheEntry:function(){return c},routeKindToIncrementalCacheKind:function(){return f},toResponseCacheEntry:function(){return d}};for(var i in a)Object.defineProperty(r,i,{enumerable:!0,get:a[i]});let o=e.r(505681),s=(n=e.r(837105))&&n.__esModule?n:{default:n},u=e.r(150743),l=e.r(753721);async function c(e){var t,r;return{...e,value:(null==(t=e.value)?void 0:t.kind)===o.CachedRouteKind.PAGES?{kind:o.CachedRouteKind.PAGES,html:await e.value.html.toUnchunkedString(!0),pageData:e.value.pageData,headers:e.value.headers,status:e.value.status}:(null==(r=e.value)?void 0:r.kind)===o.CachedRouteKind.APP_PAGE?{kind:o.CachedRouteKind.APP_PAGE,html:await e.value.html.toUnchunkedString(!0),postponed:e.value.postponed,rscData:e.value.rscData,headers:e.value.headers,status:e.value.status,segmentData:e.value.segmentData}:e.value}}async function d(e){var t,r;return e?{isMiss:e.isMiss,isStale:e.isStale,cacheControl:e.cacheControl,value:(null==(t=e.value)?void 0:t.kind)===o.CachedRouteKind.PAGES?{kind:o.CachedRouteKind.PAGES,html:s.default.fromStatic(e.value.html,l.HTML_CONTENT_TYPE_HEADER),pageData:e.value.pageData,headers:e.value.headers,status:e.value.status}:(null==(r=e.value)?void 0:r.kind)===o.CachedRouteKind.APP_PAGE?{kind:o.CachedRouteKind.APP_PAGE,html:s.default.fromStatic(e.value.html,l.HTML_CONTENT_TYPE_HEADER),rscData:e.value.rscData,headers:e.value.headers,status:e.value.status,postponed:e.value.postponed,segmentData:e.value.segmentData}:e.value}:null}function f(e){switch(e){case u.RouteKind.PAGES:return o.IncrementalCacheKind.PAGES;case u.RouteKind.APP_PAGE:return o.IncrementalCacheKind.APP_PAGE;case u.RouteKind.IMAGE:return o.IncrementalCacheKind.IMAGE;case u.RouteKind.APP_ROUTE:return o.IncrementalCacheKind.APP_ROUTE;case u.RouteKind.PAGES_API:throw Object.defineProperty(Error(`Unexpected route kind ${e}`),"__NEXT_ERROR_CODE",{value:"E64",enumerable:!1,configurable:!0});default:return e}}},357474,(e,t,r)=>{"use strict";var n,a;Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"default",{enumerable:!0,get:function(){return g}});let i=e.r(783308),o=e.r(192409),s=e.r(791533),u=e.r(146292),l=e.r(684874);function c(e,t){if(!e)return t;let r=parseInt(e,10);return Number.isFinite(r)&&r>0?r:t}n=e.r(505681),a=r,Object.keys(n).forEach(function(e){"default"===e||Object.prototype.hasOwnProperty.call(a,e)||Object.defineProperty(a,e,{enumerable:!0,get:function(){return n[e]}})});let d=c(process.env.NEXT_PRIVATE_RESPONSE_CACHE_TTL,1e4),f=c(process.env.NEXT_PRIVATE_RESPONSE_CACHE_MAX_SIZE,150),h="__ttl_sentinel__";function p(e,t){return`${e}\0${t??h}`}class g{constructor(e,t=f,r=d){this.getBatcher=i.Batcher.create({cacheKeyFn:({key:e,isOnDemandRevalidate:t})=>`${e}-${t?"1":"0"}`,schedulerFn:u.scheduleOnNextTick}),this.revalidateBatcher=i.Batcher.create({schedulerFn:u.scheduleOnNextTick}),this.evictedInvocationIDs=new Set,this.minimal_mode=e,this.maxSize=t,this.ttl=r,this.cache=new o.LRUCache(t,void 0,e=>{let t=function(e){let t=e.lastIndexOf("\0");if(-1===t)return;let r=e.slice(t+1);return r===h?void 0:r}(e);if(t){if(this.evictedInvocationIDs.size>=100){let e=this.evictedInvocationIDs.values().next().value;e&&this.evictedInvocationIDs.delete(e)}this.evictedInvocationIDs.add(t)}})}async get(e,t,r){if(!e)return t({hasResolved:!1,previousCacheEntry:null});if(this.minimal_mode){let t=p(e,r.invocationID),n=this.cache.get(t);if(n){if(void 0!==r.invocationID)return(0,l.toResponseCacheEntry)(n.entry);let e=Date.now();if(n.expiresAt>e)return(0,l.toResponseCacheEntry)(n.entry);this.cache.remove(t)}r.invocationID&&this.evictedInvocationIDs.has(r.invocationID)&&(0,s.warnOnce)(`Response cache entry was evicted for invocation ${r.invocationID}. Consider increasing NEXT_PRIVATE_RESPONSE_CACHE_MAX_SIZE (current: ${this.maxSize}).`)}let{incrementalCache:n,isOnDemandRevalidate:a=!1,isFallback:i=!1,isRoutePPREnabled:o=!1,isPrefetch:u=!1,waitUntil:c,routeKind:d,invocationID:f}=r,h=await this.getBatcher.batch({key:e,isOnDemandRevalidate:a},({resolve:r})=>{let s=this.handleGet(e,t,{incrementalCache:n,isOnDemandRevalidate:a,isFallback:i,isRoutePPREnabled:o,isPrefetch:u,routeKind:d,invocationID:f},r);return c&&c(s),s});return(0,l.toResponseCacheEntry)(h)}async handleGet(e,t,r,n){let a=null,i=!1;try{if((a=this.minimal_mode?null:await r.incrementalCache.get(e,{kind:(0,l.routeKindToIncrementalCacheKind)(r.routeKind),isRoutePPREnabled:r.isRoutePPREnabled,isFallback:r.isFallback}))&&!r.isOnDemandRevalidate&&(n(a),i=!0,!a.isStale||r.isPrefetch))return a;let o=await this.revalidate(e,r.incrementalCache,r.isRoutePPREnabled,r.isFallback,t,a,null!==a&&!r.isOnDemandRevalidate,void 0,r.invocationID);if(!o){if(this.minimal_mode){let t=p(e,r.invocationID);this.cache.remove(t)}return null}return r.isOnDemandRevalidate,o}catch(e){if(i)return console.error(e),null;throw e}}async revalidate(e,t,r,n,a,i,o,s,u){return this.revalidateBatcher.batch(e,()=>{let l=this.handleRevalidate(e,t,r,n,a,i,o,u);return s&&s(l),l})}async handleRevalidate(e,t,r,n,a,i,o,s){try{let u=await a({hasResolved:o,previousCacheEntry:i,isRevalidating:!0});if(!u)return null;let c=await (0,l.fromResponseCacheEntry)({...u,isMiss:!i});if(c.cacheControl)if(this.minimal_mode){let t=p(e,s);this.cache.set(t,{entry:c,expiresAt:Date.now()+this.ttl})}else await t.set(e,c.value,{cacheControl:c.cacheControl,isRoutePPREnabled:r,isFallback:n});return c}catch(a){if(null==i?void 0:i.cacheControl){let a=Math.min(Math.max(i.cacheControl.revalidate||3,3),30),o=void 0===i.cacheControl.expire?void 0:Math.max(a+3,i.cacheControl.expire);await t.set(e,i.value,{cacheControl:{revalidate:a,expire:o},isRoutePPREnabled:r,isFallback:n})}throw a}}}},82310,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={NEXT_PATCH_SYMBOL:function(){return p},createPatchedFetcher:function(){return b},patchFetch:function(){return y},validateRevalidate:function(){return g},validateTags:function(){return m}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i=e.r(540564),o=e.r(263166),s=e.r(753721),u=e.r(936789),l=e.r(655633),c=e.r(847483),d=e.r(832319),f=e.r(357474),h=e.r(898221);e.r(867132);let p=Symbol.for("next-patch");function g(e,t){try{let r;if(!1===e)r=s.INFINITE_CACHE;else if("number"==typeof e&&!isNaN(e)&&e>-1)r=e;else if(void 0!==e)throw Object.defineProperty(Error(`Invalid revalidate value "${e}" on "${t}", must be a non-negative number or false`),"__NEXT_ERROR_CODE",{value:"E179",enumerable:!1,configurable:!0});return r}catch(e){if(e instanceof Error&&e.message.includes("Invalid revalidate"))throw e;return}}function m(e,t){let r=[],n=[];for(let a=0;a<e.length;a++){let i=e[a];if("string"!=typeof i?n.push({tag:i,reason:"invalid type, must be a string"}):i.length>s.NEXT_CACHE_TAG_MAX_LENGTH?n.push({tag:i,reason:`exceeded max length of ${s.NEXT_CACHE_TAG_MAX_LENGTH}`}):r.push(i),r.length>s.NEXT_CACHE_TAG_MAX_ITEMS){console.warn(`Warning: exceeded max tag count for ${t}, dropped tags:`,e.slice(a).join(", "));break}}if(n.length>0)for(let{tag:e,reason:r}of(console.warn(`Warning: invalid tags passed to ${t}: `),n))console.log(`tag: "${e}" ${r}`);return r}function v(e,t){e.shouldTrackFetchMetrics&&(e.fetchMetrics??=[],e.fetchMetrics.push({...t,end:performance.timeOrigin+performance.now(),idx:e.nextFetchId||0}))}async function E(e,t,r,n,a,i){let o=await e.arrayBuffer(),s={headers:Object.fromEntries(e.headers.entries()),body:Buffer.from(o).toString("base64"),status:e.status,url:e.url};return r&&await n.set(t,{kind:f.CachedRouteKind.FETCH,data:s,revalidate:a},r),await i(),new Response(o,{headers:e.headers,status:e.status,statusText:e.statusText})}async function _(e,t,r,n,a,i,o,s,u){let[l,c]=(0,h.cloneResponse)(t),d=l.arrayBuffer().then(async e=>{let t=Buffer.from(e),s={headers:Object.fromEntries(l.headers.entries()),body:t.toString("base64"),status:l.status,url:l.url};null==i||i.set(r,s),n&&await a.set(r,{kind:f.CachedRouteKind.FETCH,data:s,revalidate:o},n)}).catch(e=>console.warn("Failed to set fetch cache",s,e)).finally(u),p=`cache-set-${r}`,g=e.pendingRevalidates??={},m=Promise.resolve();return p in g&&(m=g[p]),g[p]=m.then(()=>d).finally(()=>{(null==g?void 0:g[p])&&delete g[p]}),c}function b(e,{workAsyncStorage:t,workUnitAsyncStorage:r}){let n=async function(n,a){var c,p;let b;try{(b=new URL(n instanceof Request?n.url:n)).username="",b.password=""}catch{b=void 0}let y=(null==b?void 0:b.href)??"",S=(null==a||null==(c=a.method)?void 0:c.toUpperCase())||"GET",T=(null==a||null==(p=a.next)?void 0:p.internal)===!0,O="1"===process.env.NEXT_OTEL_FETCH_DISABLED,w=T?void 0:performance.timeOrigin+performance.now(),N=t.getStore(),P=r.getStore(),A=P?(0,d.getCacheSignal)(P):null;A&&A.beginRead();let C=(0,o.getTracer)().trace(T?i.NextNodeServerSpan.internalFetch:i.AppRenderSpan.fetch,{hideSpan:O,kind:o.SpanKind.CLIENT,spanName:["fetch",S,y].filter(Boolean).join(" "),attributes:{"http.url":y,"http.method":S,"net.peer.name":null==b?void 0:b.hostname,"net.peer.port":(null==b?void 0:b.port)||void 0}},async()=>{var t;let r,i,o,c,d,p;if(T||!N||N.isDraftMode)return e(n,a);let b=n&&"object"==typeof n&&"string"==typeof n.method,S=e=>(null==a?void 0:a[e])||(b?n[e]:null),O=e=>{var t,r,i;return void 0!==(null==a||null==(t=a.next)?void 0:t[e])?null==a||null==(r=a.next)?void 0:r[e]:b?null==(i=n.next)?void 0:i[e]:void 0},C=O("revalidate"),x=C,D=m(O("tags")||[],`fetch ${n.toString()}`);if(P)switch(P.type){case"prerender":case"prerender-runtime":case"prerender-client":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":r=P}if(r&&Array.isArray(D)){let e=r.tags??(r.tags=[]);for(let t of D)e.includes(t)||e.push(t)}let j=null==P?void 0:P.implicitTags,I=N.fetchCache;P&&"unstable-cache"===P.type&&(I="force-no-store");let M=!!N.isUnstableNoStore,k=S("cache"),H="";"string"==typeof k&&void 0!==x&&("force-cache"===k&&0===x||"no-store"===k&&(x>0||!1===x))&&(i=`Specified "cache: ${k}" and "revalidate: ${x}", only one should be specified.`,k=void 0,x=void 0);let L="no-cache"===k||"no-store"===k||"force-no-store"===I||"only-no-store"===I,$=!I&&!k&&!x&&N.forceDynamic;"force-cache"===k&&void 0===x?x=!1:(L||$)&&(x=0),("no-cache"===k||"no-store"===k)&&(H=`cache: ${k}`),p=g(x,N.route);let U=S("headers"),F="function"==typeof(null==U?void 0:U.get)?U:new Headers(U||{}),G=F.get("authorization")||F.get("cookie"),q=!["get","head"].includes((null==(t=S("method"))?void 0:t.toLowerCase())||"get"),X=void 0==I&&(void 0==k||"default"===k)&&void 0==x,B=!!((G||q)&&(null==r?void 0:r.revalidate)===0),K=!1;if(!B&&X&&(N.isBuildTimePrerendering?K=!0:B=!0),X&&void 0!==P)switch(P.type){case"prerender":case"prerender-runtime":case"prerender-client":return A&&(A.endRead(),A=null),(0,l.makeHangingPromise)(P.renderSignal,N.route,"fetch()")}switch(I){case"force-no-store":H="fetchCache = force-no-store";break;case"only-no-store":if("force-cache"===k||void 0!==p&&p>0)throw Object.defineProperty(Error(`cache: 'force-cache' used on fetch for ${y} with 'export const fetchCache = 'only-no-store'`),"__NEXT_ERROR_CODE",{value:"E448",enumerable:!1,configurable:!0});H="fetchCache = only-no-store";break;case"only-cache":if("no-store"===k)throw Object.defineProperty(Error(`cache: 'no-store' used on fetch for ${y} with 'export const fetchCache = 'only-cache'`),"__NEXT_ERROR_CODE",{value:"E521",enumerable:!1,configurable:!0});break;case"force-cache":(void 0===x||0===x)&&(H="fetchCache = force-cache",p=s.INFINITE_CACHE)}if(void 0===p?"default-cache"!==I||M?"default-no-store"===I?(p=0,H="fetchCache = default-no-store"):M?(p=0,H="noStore call"):B?(p=0,H="auto no cache"):(H="auto cache",p=r?r.revalidate:s.INFINITE_CACHE):(p=s.INFINITE_CACHE,H="fetchCache = default-cache"):H||(H=`revalidate: ${p}`),!(N.forceStatic&&0===p)&&!B&&r&&p<r.revalidate){if(0===p){if(P)switch(P.type){case"prerender":case"prerender-client":case"prerender-runtime":return A&&(A.endRead(),A=null),(0,l.makeHangingPromise)(P.renderSignal,N.route,"fetch()")}(0,u.markCurrentScopeAsDynamic)(N,P,`revalidate: 0 fetch ${n} ${N.route}`)}r&&C===p&&(r.revalidate=p)}let z="number"==typeof p&&p>0,{incrementalCache:W}=N,Y=!1;if(P)switch(P.type){case"request":case"cache":case"private-cache":Y=P.isHmrRefresh??!1,c=P.serverComponentsHmrCache}if(W&&(z||c))try{o=await W.generateCacheKey(y,b?n:a)}catch(e){console.error("Failed to generate cache key for",n)}let V=N.nextFetchId??1;N.nextFetchId=V+1;let J=()=>{},Q=async(t,r)=>{let u=["cache","credentials","headers","integrity","keepalive","method","mode","redirect","referrer","referrerPolicy","window","duplex",...t?[]:["signal"]];if(b){let e=n,t={body:e._ogBody||e.body};for(let r of u)t[r]=e[r];n=new Request(e.url,t)}else if(a){let{_ogBody:e,body:r,signal:n,...i}=a;a={...i,body:e||r,signal:t?void 0:n}}let l={...a,next:{...null==a?void 0:a.next,fetchType:"origin",fetchIdx:V}};return e(n,l).then(async e=>{if(!t&&w&&v(N,{start:w,url:y,cacheReason:r||H,cacheStatus:0===p||r?"skip":"miss",cacheWarning:i,status:e.status,method:l.method||"GET"}),200===e.status&&W&&o&&(z||c)){let t=p>=s.INFINITE_CACHE?s.CACHE_ONE_YEAR:p,r=z?{fetchCache:!0,fetchUrl:y,fetchIdx:V,tags:D,isImplicitBuildTimeCache:K}:void 0;switch(null==P?void 0:P.type){case"prerender":case"prerender-client":case"prerender-runtime":return E(e,o,r,W,t,J);case"request":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":case void 0:return _(N,e,o,r,W,c,t,n,J)}}return await J(),e}).catch(e=>{throw J(),e})},Z=!1,ee=!1;if(o&&W){let e;if(Y&&c&&(e=c.get(o),ee=!0),z&&!e){J=await W.lock(o);let t=N.isOnDemandRevalidate?null:await W.get(o,{kind:f.IncrementalCacheKind.FETCH,revalidate:p,fetchUrl:y,fetchIdx:V,tags:D,softTags:null==j?void 0:j.tags});if(X&&P)switch(P.type){case"prerender":case"prerender-client":case"prerender-runtime":await (R||(R=new Promise(e=>{setTimeout(()=>{R=null,e()},0)})),R)}if(t?await J():d="cache-control: no-cache (hard refresh)",(null==t?void 0:t.value)&&t.value.kind===f.CachedRouteKind.FETCH)if(N.isStaticGeneration&&t.isStale)Z=!0;else{if(t.isStale&&(N.pendingRevalidates??={},!N.pendingRevalidates[o])){let e=Q(!0).then(async e=>({body:await e.arrayBuffer(),headers:e.headers,status:e.status,statusText:e.statusText})).finally(()=>{N.pendingRevalidates??={},delete N.pendingRevalidates[o||""]});e.catch(console.error),N.pendingRevalidates[o]=e}e=t.value.data}}if(e){w&&v(N,{start:w,url:y,cacheReason:H,cacheStatus:ee?"hmr":"hit",cacheWarning:i,status:e.status||200,method:(null==a?void 0:a.method)||"GET"});let t=new Response(Buffer.from(e.body,"base64"),{headers:e.headers,status:e.status});return Object.defineProperty(t,"url",{value:e.url}),t}}if(N.isStaticGeneration&&a&&"object"==typeof a){let{cache:e}=a;if("no-store"===e){if(P)switch(P.type){case"prerender":case"prerender-client":case"prerender-runtime":return A&&(A.endRead(),A=null),(0,l.makeHangingPromise)(P.renderSignal,N.route,"fetch()")}(0,u.markCurrentScopeAsDynamic)(N,P,`no-store fetch ${n} ${N.route}`)}let t="next"in a,{next:i={}}=a;if("number"==typeof i.revalidate&&r&&i.revalidate<r.revalidate){if(0===i.revalidate){if(P)switch(P.type){case"prerender":case"prerender-client":case"prerender-runtime":return(0,l.makeHangingPromise)(P.renderSignal,N.route,"fetch()")}(0,u.markCurrentScopeAsDynamic)(N,P,`revalidate: 0 fetch ${n} ${N.route}`)}N.forceStatic&&0===i.revalidate||(r.revalidate=i.revalidate)}t&&delete a.next}if(!o||!Z)return Q(!1,d);{let e=o;N.pendingRevalidates??={};let t=N.pendingRevalidates[e];if(t){let e=await t;return new Response(e.body,{headers:e.headers,status:e.status,statusText:e.statusText})}let r=Q(!0,d).then(h.cloneResponse);return(t=r.then(async e=>{let t=e[0];return{body:await t.arrayBuffer(),headers:t.headers,status:t.status,statusText:t.statusText}}).finally(()=>{var t;(null==(t=N.pendingRevalidates)?void 0:t[e])&&delete N.pendingRevalidates[e]})).catch(()=>{}),N.pendingRevalidates[e]=t,r.then(e=>e[1])}});if(A)try{return await C}finally{A&&A.endRead()}return C};return n.__nextPatched=!0,n.__nextGetStaticStore=()=>t,n._nextOriginalFetch=e,globalThis[p]=!0,Object.defineProperty(n,"name",{value:"fetch",writable:!1}),n}function y(e){if(!0===globalThis[p])return;let t=(0,c.createDedupeFetch)(globalThis.fetch);globalThis.fetch=b(t,e)}let R=null},825331,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_cache",{enumerable:!0,get:function(){return c}});let n=e.r(753721),a=e.r(82310),i=e.r(556704),o=e.r(832319),s=e.r(357474),u=0;async function l(e,t,r,a,i,o,u){await t.set(r,{kind:s.CachedRouteKind.FETCH,data:{headers:{},body:JSON.stringify(e),status:200,url:""},revalidate:"number"!=typeof i?n.CACHE_ONE_YEAR:i},{fetchCache:!0,tags:a,fetchIdx:o,fetchUrl:u})}function c(e,t,r={}){if(0===r.revalidate)throw Object.defineProperty(Error(`Invariant revalidate: 0 can not be passed to unstable_cache(), must be "false" or "> 0" ${e.toString()}`),"__NEXT_ERROR_CODE",{value:"E57",enumerable:!1,configurable:!0});let n=r.tags?(0,a.validateTags)(r.tags,`unstable_cache ${e.toString()}`):[];(0,a.validateRevalidate)(r.revalidate,`unstable_cache ${e.name||e.toString()}`);let d=`${e.toString()}-${Array.isArray(t)&&t.join(",")}`;return async(...t)=>{let a=i.workAsyncStorage.getStore(),c=o.workUnitAsyncStorage.getStore(),f=(null==a?void 0:a.incrementalCache)||globalThis.__incrementalCache;if(!f)throw Object.defineProperty(Error(`Invariant: incrementalCache missing in unstable_cache ${e.toString()}`),"__NEXT_ERROR_CODE",{value:"E469",enumerable:!1,configurable:!0});let h=c?(0,o.getCacheSignal)(c):null;h&&h.beginRead();try{let i=a&&c?function(e,t){switch(t.type){case"request":let r=t.url.pathname,n=new URLSearchParams(t.url.search),a=[...n.keys()].sort((e,t)=>e.localeCompare(t)).map(e=>`${e}=${n.get(e)}`).join("&");return`${r}${a.length?"?":""}${a}`;case"prerender":case"prerender-client":case"prerender-runtime":case"prerender-ppr":case"prerender-legacy":case"cache":case"private-cache":case"unstable-cache":return e.route;default:return t}}(a,c):"",h=`${d}-${JSON.stringify(t)}`,p=await f.generateCacheKey(h),g=`unstable_cache ${i} ${e.name?` ${e.name}`:p}`,m=(a?a.nextFetchId:u)??1,v=null==c?void 0:c.implicitTags,E={type:"unstable-cache",phase:"render",implicitTags:v,draftMode:c&&a&&(0,o.getDraftModeProviderForCacheScope)(a,c)};if(a){a.nextFetchId=m+1;let i=!1;if(c)switch(c.type){case"cache":case"private-cache":case"prerender":case"prerender-runtime":case"prerender-ppr":case"prerender-legacy":"number"==typeof r.revalidate&&(c.revalidate<r.revalidate||(c.revalidate=r.revalidate));let u=c.tags;if(null===u)c.tags=n.slice();else for(let e of n)u.includes(e)||u.push(e);break;case"unstable-cache":i=!0}if(!i&&"force-no-store"!==a.fetchCache&&!a.isOnDemandRevalidate&&!f.isOnDemandRevalidate&&!a.isDraftMode){let i=await f.get(p,{kind:s.IncrementalCacheKind.FETCH,revalidate:r.revalidate,tags:n,softTags:null==v?void 0:v.tags,fetchIdx:m,fetchUrl:g});if(i&&i.value)if(i.value.kind!==s.CachedRouteKind.FETCH)console.error(`Invariant invalid cacheEntry returned for ${h}`);else{let s=void 0!==i.value.data.body?JSON.parse(i.value.data.body):void 0;if(i.isStale){if(a.pendingRevalidates||(a.pendingRevalidates={}),!a.pendingRevalidates[h]){let i=o.workUnitAsyncStorage.run(E,e,...t).then(async e=>(await l(e,f,p,n,r.revalidate,m,g),e)).catch(e=>(console.error(`revalidating cache with key: ${h}`,e),s));a.isStaticGeneration&&i.catch(()=>{}),a.pendingRevalidates[h]=i}if(a.isStaticGeneration)return a.pendingRevalidates[h]}return s}}let d=await o.workUnitAsyncStorage.run(E,e,...t);return a.isDraftMode||(a.pendingRevalidates||(a.pendingRevalidates={}),a.pendingRevalidates[h]=l(d,f,p,n,r.revalidate,m,g)),d}{if(u+=1,!f.isOnDemandRevalidate){let e=await f.get(p,{kind:s.IncrementalCacheKind.FETCH,revalidate:r.revalidate,tags:n,fetchIdx:m,fetchUrl:g,softTags:null==v?void 0:v.tags});if(e&&e.value){if(e.value.kind!==s.CachedRouteKind.FETCH)console.error(`Invariant invalid cacheEntry returned for ${h}`);else if(!e.isStale)return void 0!==e.value.data.body?JSON.parse(e.value.data.body):void 0}}let a=await o.workUnitAsyncStorage.run(E,e,...t);return await l(a,f,p,n,r.revalidate,m,g),a}}finally{h&&h.endRead()}}}},394074,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getSortedRouteObjects:function(){return s},getSortedRoutes:function(){return o}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});class i{insert(e){this._insert(e.split("/").filter(Boolean),[],!1)}smoosh(){return this._smoosh()}_smoosh(e="/"){let t=[...this.children.keys()].sort();null!==this.slugName&&t.splice(t.indexOf("[]"),1),null!==this.restSlugName&&t.splice(t.indexOf("[...]"),1),null!==this.optionalRestSlugName&&t.splice(t.indexOf("[[...]]"),1);let r=t.map(t=>this.children.get(t)._smoosh(`${e}${t}/`)).reduce((e,t)=>[...e,...t],[]);if(null!==this.slugName&&r.push(...this.children.get("[]")._smoosh(`${e}[${this.slugName}]/`)),!this.placeholder){let t="/"===e?"/":e.slice(0,-1);if(null!=this.optionalRestSlugName)throw Object.defineProperty(Error(`You cannot define a route with the same specificity as a optional catch-all route ("${t}" and "${t}[[...${this.optionalRestSlugName}]]").`),"__NEXT_ERROR_CODE",{value:"E458",enumerable:!1,configurable:!0});r.unshift(t)}return null!==this.restSlugName&&r.push(...this.children.get("[...]")._smoosh(`${e}[...${this.restSlugName}]/`)),null!==this.optionalRestSlugName&&r.push(...this.children.get("[[...]]")._smoosh(`${e}[[...${this.optionalRestSlugName}]]/`)),r}_insert(e,t,r){if(0===e.length){this.placeholder=!1;return}if(r)throw Object.defineProperty(Error("Catch-all must be the last part of the URL."),"__NEXT_ERROR_CODE",{value:"E392",enumerable:!1,configurable:!0});let n=e[0];if(n.startsWith("[")&&n.endsWith("]")){let i=n.slice(1,-1),o=!1;if(i.startsWith("[")&&i.endsWith("]")&&(i=i.slice(1,-1),o=!0),i.startsWith("…"))throw Object.defineProperty(Error(`Detected a three-dot character ('…') at ('${i}'). Did you mean ('...')?`),"__NEXT_ERROR_CODE",{value:"E147",enumerable:!1,configurable:!0});if(i.startsWith("...")&&(i=i.substring(3),r=!0),i.startsWith("[")||i.endsWith("]"))throw Object.defineProperty(Error(`Segment names may not start or end with extra brackets ('${i}').`),"__NEXT_ERROR_CODE",{value:"E421",enumerable:!1,configurable:!0});if(i.startsWith("."))throw Object.defineProperty(Error(`Segment names may not start with erroneous periods ('${i}').`),"__NEXT_ERROR_CODE",{value:"E288",enumerable:!1,configurable:!0});function a(e,r){if(null!==e&&e!==r)throw Object.defineProperty(Error(`You cannot use different slug names for the same dynamic path ('${e}' !== '${r}').`),"__NEXT_ERROR_CODE",{value:"E337",enumerable:!1,configurable:!0});t.forEach(e=>{if(e===r)throw Object.defineProperty(Error(`You cannot have the same slug name "${r}" repeat within a single dynamic path`),"__NEXT_ERROR_CODE",{value:"E247",enumerable:!1,configurable:!0});if(e.replace(/\W/g,"")===n.replace(/\W/g,""))throw Object.defineProperty(Error(`You cannot have the slug names "${e}" and "${r}" differ only by non-word symbols within a single dynamic path`),"__NEXT_ERROR_CODE",{value:"E499",enumerable:!1,configurable:!0})}),t.push(r)}if(r)if(o){if(null!=this.restSlugName)throw Object.defineProperty(Error(`You cannot use both an required and optional catch-all route at the same level ("[...${this.restSlugName}]" and "${e[0]}" ).`),"__NEXT_ERROR_CODE",{value:"E299",enumerable:!1,configurable:!0});a(this.optionalRestSlugName,i),this.optionalRestSlugName=i,n="[[...]]"}else{if(null!=this.optionalRestSlugName)throw Object.defineProperty(Error(`You cannot use both an optional and required catch-all route at the same level ("[[...${this.optionalRestSlugName}]]" and "${e[0]}").`),"__NEXT_ERROR_CODE",{value:"E300",enumerable:!1,configurable:!0});a(this.restSlugName,i),this.restSlugName=i,n="[...]"}else{if(o)throw Object.defineProperty(Error(`Optional route parameters are not yet supported ("${e[0]}").`),"__NEXT_ERROR_CODE",{value:"E435",enumerable:!1,configurable:!0});a(this.slugName,i),this.slugName=i,n="[]"}}this.children.has(n)||this.children.set(n,new i),this.children.get(n)._insert(e.slice(1),t,r)}constructor(){this.placeholder=!0,this.children=new Map,this.slugName=null,this.restSlugName=null,this.optionalRestSlugName=null}}function o(e){let t=new i;return e.forEach(e=>t.insert(e)),t.smoosh()}function s(e,t){let r={},n=[];for(let a=0;a<e.length;a++){let i=t(e[a]);r[i]=a,n[a]=i}return o(n).map(t=>e[r[t]])}},244486,(e,t,r)=>{"use strict";function n(e){return e.startsWith("/")?e:`/${e}`}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"ensureLeadingSlash",{enumerable:!0,get:function(){return n}})},634321,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={DEFAULT_SEGMENT_KEY:function(){return d},NOT_FOUND_SEGMENT_KEY:function(){return f},PAGE_SEGMENT_KEY:function(){return c},addSearchParamsIfPageSegment:function(){return u},computeSelectedLayoutSegment:function(){return l},getSegmentValue:function(){return i},getSelectedLayoutSegmentPath:function(){return function e(t,r,n=!0,a=[]){let o;if(n)o=t[1][r];else{let e=t[1];o=e.children??Object.values(e)[0]}if(!o)return a;let s=i(o[0]);return!s||s.startsWith(c)?a:(a.push(s),e(o,r,!1,a))}},isGroupSegment:function(){return o},isParallelRouteSegment:function(){return s}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});function i(e){return Array.isArray(e)?e[1]:e}function o(e){return"("===e[0]&&e.endsWith(")")}function s(e){return e.startsWith("@")&&"@children"!==e}function u(e,t){if(e.includes(c)){let e=JSON.stringify(t);return"{}"!==e?c+"?"+e:c}return e}function l(e,t){if(!e||0===e.length)return null;let r="children"===t?e[0]:e[e.length-1];return r===d?null:r}let c="__PAGE__",d="__DEFAULT__",f="/_not-found"},234560,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={normalizeAppPath:function(){return s},normalizeRscURL:function(){return u}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i=e.r(244486),o=e.r(634321);function s(e){return(0,i.ensureLeadingSlash)(e.split("/").reduce((e,t,r,n)=>!t||(0,o.isGroupSegment)(t)||"@"===t[0]||("page"===t||"route"===t)&&r===n.length-1?e:`${e}/${t}`,""))}function u(e){return e.replace(/\.rsc($|\?)/,"$1")}},258403,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={INTERCEPTION_ROUTE_MARKERS:function(){return o},extractInterceptionRouteInformation:function(){return u},isInterceptionRouteAppPath:function(){return s}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i=e.r(234560),o=["(..)(..)","(.)","(..)","(...)"];function s(e){return void 0!==e.split("/").find(e=>o.find(t=>e.startsWith(t)))}function u(e){let t,r,n;for(let a of e.split("/"))if(r=o.find(e=>a.startsWith(e))){[t,n]=e.split(r,2);break}if(!t||!r||!n)throw Object.defineProperty(Error(`Invalid interception route: ${e}. Must be in the format /<intercepting route>/(..|...|..)(..)/<intercepted route>`),"__NEXT_ERROR_CODE",{value:"E269",enumerable:!1,configurable:!0});switch(t=(0,i.normalizeAppPath)(t),r){case"(.)":n="/"===t?`/${n}`:t+"/"+n;break;case"(..)":if("/"===t)throw Object.defineProperty(Error(`Invalid interception route: ${e}. Cannot use (..) marker at the root level, use (.) instead.`),"__NEXT_ERROR_CODE",{value:"E207",enumerable:!1,configurable:!0});n=t.split("/").slice(0,-1).concat(n).join("/");break;case"(...)":n="/"+n;break;case"(..)(..)":let a=t.split("/");if(a.length<=2)throw Object.defineProperty(Error(`Invalid interception route: ${e}. Cannot use (..)(..) marker at the root level or one level up.`),"__NEXT_ERROR_CODE",{value:"E486",enumerable:!1,configurable:!0});n=a.slice(0,-2).concat(n).join("/");break;default:throw Object.defineProperty(Error("Invariant: unexpected marker"),"__NEXT_ERROR_CODE",{value:"E112",enumerable:!1,configurable:!0})}return{interceptingRoute:t,interceptedRoute:n}}},315712,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"isDynamicRoute",{enumerable:!0,get:function(){return o}});let n=e.r(258403),a=/\/[^/]*\[[^/]+\][^/]*(?=\/|$)/,i=/\/\[[^/]+\](?=\/|$)/;function o(e,t=!0){return((0,n.isInterceptionRouteAppPath)(e)&&(e=(0,n.extractInterceptionRouteInformation)(e).interceptedRoute),t)?i.test(e):a.test(e)}},286204,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={getSortedRouteObjects:function(){return i.getSortedRouteObjects},getSortedRoutes:function(){return i.getSortedRoutes},isDynamicRoute:function(){return o.isDynamicRoute}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i=e.r(394074),o=e.r(315712)},661296,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n={refresh:function(){return g},revalidatePath:function(){return m},revalidateTag:function(){return h},updateTag:function(){return p}};for(var a in n)Object.defineProperty(r,a,{enumerable:!0,get:n[a]});let i=e.r(936789),o=e.r(286204),s=e.r(753721),u=e.r(556704),l=e.r(832319),c=e.r(485363),d=e.r(607576),f=e.r(986961);function h(e,t){return t||console.warn('"revalidateTag" without the second argument is now deprecated, add second argument of "max" or use "updateTag". See more info here: https://nextjs.org/docs/messages/revalidate-tag-single-arg'),v([e],`revalidateTag ${e}`,t)}function p(e){let t=u.workAsyncStorage.getStore();if(!t||t.page.endsWith("/route"))throw Object.defineProperty(Error("updateTag can only be called from within a Server Action. To invalidate cache tags in Route Handlers or other contexts, use revalidateTag instead. See more info here: https://nextjs.org/docs/app/api-reference/functions/updateTag"),"__NEXT_ERROR_CODE",{value:"E872",enumerable:!1,configurable:!0});return v([e],`updateTag ${e}`,void 0)}function g(){let e=u.workAsyncStorage.getStore(),t=l.workUnitAsyncStorage.getStore();if(!e||e.page.endsWith("/route")||(null==t?void 0:t.phase)!=="action")throw Object.defineProperty(Error("refresh can only be called from within a Server Action. See more info here: https://nextjs.org/docs/app/api-reference/functions/refresh"),"__NEXT_ERROR_CODE",{value:"E870",enumerable:!1,configurable:!0});e&&(e.pathWasRevalidated=f.ActionDidRevalidateDynamicOnly)}function m(e,t){if(e.length>s.NEXT_CACHE_SOFT_TAG_MAX_LENGTH)return void console.warn(`Warning: revalidatePath received "${e}" which exceeded max length of ${s.NEXT_CACHE_SOFT_TAG_MAX_LENGTH}. See more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`);let r=`${s.NEXT_CACHE_IMPLICIT_TAG_ID}${e||"/"}`;t?r+=`${r.endsWith("/")?"":"/"}${t}`:(0,o.isDynamicRoute)(e)&&console.warn(`Warning: a dynamic page path "${e}" was passed to "revalidatePath", but the "type" parameter is missing. This has no effect by default, see more info here https://nextjs.org/docs/app/api-reference/functions/revalidatePath`);let n=[r];return r===`${s.NEXT_CACHE_IMPLICIT_TAG_ID}/`?n.push(`${s.NEXT_CACHE_IMPLICIT_TAG_ID}/index`):r===`${s.NEXT_CACHE_IMPLICIT_TAG_ID}/index`&&n.push(`${s.NEXT_CACHE_IMPLICIT_TAG_ID}/`),v(n,`revalidatePath ${e}`)}function v(e,t,r){var n;let a=u.workAsyncStorage.getStore();if(!a||!a.incrementalCache)throw Object.defineProperty(Error(`Invariant: static generation store missing in ${t}`),"__NEXT_ERROR_CODE",{value:"E263",enumerable:!1,configurable:!0});let o=l.workUnitAsyncStorage.getStore();if(o){if("render"===o.phase)throw Object.defineProperty(Error(`Route ${a.route} used "${t}" during render which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E7",enumerable:!1,configurable:!0});switch(o.type){case"cache":case"private-cache":throw Object.defineProperty(Error(`Route ${a.route} used "${t}" inside a "use cache" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E181",enumerable:!1,configurable:!0});case"unstable-cache":throw Object.defineProperty(Error(`Route ${a.route} used "${t}" inside a function cached with "unstable_cache(...)" which is unsupported. To ensure revalidation is performed consistently it must always happen outside of renders and cached functions. See more info here: https://nextjs.org/docs/app/building-your-application/rendering/static-and-dynamic#dynamic-rendering`),"__NEXT_ERROR_CODE",{value:"E306",enumerable:!1,configurable:!0});case"prerender":case"prerender-runtime":let e=Object.defineProperty(Error(`Route ${a.route} used ${t} without first calling \`await connection()\`.`),"__NEXT_ERROR_CODE",{value:"E406",enumerable:!1,configurable:!0});return(0,i.abortAndThrowOnSynchronousRequestDataAccess)(a.route,t,e,o);case"prerender-client":throw Object.defineProperty(new d.InvariantError(`${t} must not be used within a client component. Next.js should be preventing ${t} from being included in client components statically, but did not in this case.`),"__NEXT_ERROR_CODE",{value:"E693",enumerable:!1,configurable:!0});case"prerender-ppr":return(0,i.postponeWithTracking)(a.route,t,o.dynamicTracking);case"prerender-legacy":o.revalidate=0;let r=Object.defineProperty(new c.DynamicServerError(`Route ${a.route} couldn't be rendered statically because it used \`${t}\`. See more info here: https://nextjs.org/docs/messages/dynamic-server-error`),"__NEXT_ERROR_CODE",{value:"E558",enumerable:!1,configurable:!0});throw a.dynamicUsageDescription=t,a.dynamicUsageStack=r.stack,r}}for(let t of(a.pendingRevalidatedTags||(a.pendingRevalidatedTags=[]),e))-1===a.pendingRevalidatedTags.findIndex(e=>e.tag===t&&("string"==typeof e.profile&&"string"==typeof r?e.profile===r:"object"==typeof e.profile&&"object"==typeof r?JSON.stringify(e.profile)===JSON.stringify(r):e.profile===r))&&a.pendingRevalidatedTags.push({tag:t,profile:r});let s=r&&"object"==typeof r?r:r&&"string"==typeof r&&(null==a||null==(n=a.cacheLifeProfiles)?void 0:n[r])?a.cacheLifeProfiles[r]:void 0;r&&(null==s?void 0:s.expire)!==0||(a.pathWasRevalidated=f.ActionDidRevalidateStaticAndDynamic)}},770172,(e,t,r)=>{"use strict";Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"unstable_noStore",{enumerable:!0,get:function(){return o}});let n=e.r(556704),a=e.r(832319),i=e.r(936789);function o(){let e=n.workAsyncStorage.getStore(),t=a.workUnitAsyncStorage.getStore();if(e){if(!e.forceStatic){if(e.isUnstableNoStore=!0,t)switch(t.type){case"prerender":case"prerender-client":case"prerender-runtime":return}(0,i.markCurrentScopeAsDynamic)(e,t,"unstable_noStore()")}}}},511274,(e,t,r)=>{"use strict";function n(e){throw Object.defineProperty(Error("`cacheLife()` is only available with the `cacheComponents` config."),"__NEXT_ERROR_CODE",{value:"E887",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"cacheLife",{enumerable:!0,get:function(){return n}}),e.r(607576),e.r(556704),e.r(832319)},439059,(e,t,r)=>{"use strict";function n(){throw Object.defineProperty(Error("`cacheTag()` is only available with the `cacheComponents` config."),"__NEXT_ERROR_CODE",{value:"E886",enumerable:!1,configurable:!0})}Object.defineProperty(r,"__esModule",{value:!0}),Object.defineProperty(r,"cacheTag",{enumerable:!0,get:function(){return n}}),e.r(832319),e.r(82310)},811767,(e,t,r)=>{let n={unstable_cache:e.r(825331).unstable_cache,updateTag:e.r(661296).updateTag,revalidateTag:e.r(661296).revalidateTag,revalidatePath:e.r(661296).revalidatePath,refresh:e.r(661296).refresh,unstable_noStore:e.r(770172).unstable_noStore,cacheLife:e.r(511274).cacheLife,cacheTag:e.r(439059).cacheTag},a=!1,i=!1;n.unstable_cacheLife=function(){return a||(a=!0,console.error(Error("`unstable_cacheLife` was recently stabilized and should be imported as `cacheLife`. The `unstable` prefixed form will be removed in a future version of Next.js."))),n.cacheLife.apply(this,arguments)},n.unstable_cacheTag=function(){return i||(i=!0,console.error(Error("`unstable_cacheTag` was recently stabilized and should be imported as `cacheTag`. The `unstable` prefixed form will be removed in a future version of Next.js."))),n.cacheTag.apply(this,arguments)},t.exports=n,r.unstable_cache=n.unstable_cache,r.revalidatePath=n.revalidatePath,r.revalidateTag=n.revalidateTag,r.updateTag=n.updateTag,r.unstable_noStore=n.unstable_noStore,r.cacheLife=n.cacheLife,r.unstable_cacheLife=n.unstable_cacheLife,r.cacheTag=n.cacheTag,r.unstable_cacheTag=n.unstable_cacheTag,r.refresh=n.refresh},804542,e=>{"use strict";var t=e.i(350958),r=e.i(174936),n=e.i(523626),a=e.i(49523),i=e.i(32934),o=e.i(418597),s=e.i(258664),u=e.i(980477),l=e.i(215264),c=e.i(616247),d=e.i(908280),f=e.i(595829),h=e.i(161311),p=e.i(34740),g=e.i(342797),m=e.i(193695);e.i(506148);var v=e.i(814411),E=e.i(472541),_=e.i(871887),b=e.i(192774),y=e.i(33784),R=e.i(665592),S=e.i(403624),T=e.i(213624);async function O(e,t,r){try{for(let n of(await R.prisma.userRole.findMany({where:{userId:e,OR:[{scopeType:null},{scopeType:"global"},...r?[{scopeType:"project",scopeId:r}]:[]]},include:{role:{include:{permissions:{include:{permission:!0}}}}}})))for(let e of n.role.permissions)if(e.permission.key===t)return!0;return!1}catch(r){return console.error(`Error checking permission ${t} for user ${e}:`,r),!1}}var w=e.i(811767),N=e.i(671509),P=e.i(303406);async function A(e,t,r,n){let a=(0,S.startOfDay)(new Date),i=await R.prisma.statSnapshot.findFirst({where:{entityType:e,entityId:t,metricKey:r,date:a}});i?i.value!==n&&await R.prisma.statSnapshot.update({where:{id:i.id},data:{value:n}}):await R.prisma.statSnapshot.create({data:{entityType:e,entityId:t,metricKey:r,value:n,date:a}})}async function C(e,t,r,n,a="daily"){let i,o=(0,S.startOfDay)(new Date);if("daily"===a)i=(0,N.addDays)(o,-1,void 0);else i=(0,P.subWeeks)(o,1);await A(e,t,r,n);let s=await R.prisma.statSnapshot.findFirst({where:{entityType:e,entityId:t,metricKey:r,date:i}});if(!s){let a=await R.prisma.statSnapshot.findFirst({where:{entityType:e,entityId:t,metricKey:r,date:{lt:o}},orderBy:{date:"desc"}});return a?x(n,a.value):null}return x(n,s.value)}function x(e,t){if(0===t)return{direction:e>0?"up":"neutral",value:e,percentage:100*(e>0)};let r=e-t,n=Math.round(r/t*100),a="neutral";return r>0&&(a="up"),r<0&&(a="down"),{direction:a,value:Math.abs(r),percentage:Math.abs(n)}}var D=e.i(252226);let j=async e=>{try{let t=await R.prisma.task.aggregate({where:{projectId:e},_count:{id:!0}}),[r,n,a,i,o]=await Promise.all([R.prisma.task.count({where:{projectId:e,OR:[{taskStatus:{isFinal:!0}},{status:"completed",taskStatusId:null}]}}),R.prisma.task.count({where:{projectId:e,OR:[{taskStatus:{isFinal:!1}},{status:"in_progress",taskStatusId:null}]}}),R.prisma.task.count({where:{projectId:e,OR:[{taskStatus:{isBlocking:!0}},{status:"waiting",taskStatusId:null}]}}),R.prisma.task.count({where:{projectId:e,dueDate:{lt:new Date},OR:[{taskStatus:{isFinal:!1}},{status:{not:"completed"},taskStatusId:null}]}}),R.prisma.task.count({where:{projectId:e,priority:{in:["high","urgent"]},OR:[{taskStatus:{isFinal:!1}},{status:{not:"completed"},taskStatusId:null}]}})]);return{success:!0,data:{totalTasks:t._count.id,completedTasks:r,inProgressTasks:n,blockedTasks:a,overdueTasks:i,urgentTasks:o}}}catch(e){return console.error("Error fetching project stats:",e),{success:!1,error:e.message}}},I=(0,w.unstable_cache)(j,["project-stats"],{revalidate:60,tags:["project-stats"]});async function M(e){return await (0,_.getServerSession)(b.authOptions)?await I(e):{success:!1,error:"Unauthorized"}}let k=async(e,t)=>{try{let r={};t||(r.OR=[{projectManagerId:e},{createdById:e},{projectUsers:{some:{userId:e}}}]);let[n,a]=await Promise.all([R.prisma.project.count({where:r}),R.prisma.project.groupBy({by:["status","projectStatusId"],where:r,_count:{id:!0}})]),i=0,o=0,s=0;for(let e of a)("active"===e.status||null===e.status)&&(i+=e._count.id),"completed"===e.status&&(o+=e._count.id);return s=await R.prisma.project.count({where:{...r,priority:"urgent"}}),{success:!0,data:{total:n,active:i,completed:o,urgent:s}}}catch(e){return console.error("Error fetching all projects stats:",e),{success:!1,error:e.message}}},H=(0,w.unstable_cache)(k,["all-projects-stats"],{revalidate:60,tags:["projects-stats"]});async function L(){let e=await (0,_.getServerSession)(b.authOptions);if(!e)return{success:!1,error:"Unauthorized"};let t=parseInt(e.user.id),r=await O(t,"project.viewAll");return await H(t,r)}let $=async(e,t,r)=>{try{let n=(0,S.startOfDay)(new Date),a=(0,T.endOfDay)(new Date),i={};if(t||(i.project={OR:[{projectManagerId:e},{createdById:e},{projectUsers:{some:{userId:e}}}]}),r.projectId&&"all"!==r.projectId){let e=Array.isArray(r.projectId)?r.projectId.map(e=>parseInt(e.toString())):[parseInt(r.projectId.toString())];e.length>0&&(i.projectId={in:e})}let o={...i};delete o.OR,delete o.AND;let s=[];if(i.project&&s.push({project:i.project}),i.projectId&&s.push({projectId:i.projectId}),i.priority&&s.push({priority:i.priority}),i.dueDate&&s.push({dueDate:i.dueDate}),r.priority&&r.priority.length>0){let e=Array.isArray(r.priority)?r.priority:[r.priority];e.length>0&&s.push({priority:{in:e}})}if(r.statusId&&"all"!==r.statusId){let e=Array.isArray(r.statusId)?r.statusId:[r.statusId],t=[],n=[];e.forEach(e=>{"legacy_active"===e?n.push("active"):"legacy_on_hold"===e?n.push("on_hold"):"string"==typeof e&&isNaN(parseInt(e))?n.push(e):t.push(parseInt(e.toString()))});let a=[];t.length>0&&a.push({taskStatusId:{in:t}}),n.length>0&&a.push({status:{in:n},taskStatusId:null}),a.length>0&&s.push({OR:a})}if(r.search&&s.push({OR:[{title:{contains:r.search}},{description:{contains:r.search}}]}),r.dateRange&&(r.dateRange.from||r.dateRange.to)){let e={};r.dateRange.from&&(e.gte=r.dateRange.from),r.dateRange.to&&(e.lte=r.dateRange.to),s.push({dueDate:e})}let[u,l,c,d,f,h,p]=await Promise.all([R.prisma.task.count({where:{AND:s}}),R.prisma.task.count({where:{AND:[...s,{assignees:{some:{id:e}}}]}}),R.prisma.task.count({where:{AND:[...s,{plannedDate:{gte:n,lte:a}},{OR:[{taskStatus:{isFinal:!1}},{status:{not:"completed"},taskStatusId:null}]}]}}),R.prisma.task.count({where:{AND:[...s,{OR:[{taskStatus:{isBlocking:!0}},{status:"waiting",taskStatusId:null}]}]}}),R.prisma.task.count({where:{AND:[...s,{dueDate:{lt:new Date}},{OR:[{taskStatus:{isFinal:!1}},{status:{not:"completed"},taskStatusId:null}]}]}}),R.prisma.task.count({where:{AND:[...s,{updatedAt:{gte:n,lte:a}},{OR:[{taskStatus:{isFinal:!0}},{status:"completed",taskStatusId:null}]}]}}),R.prisma.task.count({where:{AND:[...s,{OR:[{taskStatus:{isFinal:!0}},{status:"completed",taskStatusId:null}]}]}})]);return{success:!0,data:{totalTasks:u,myTasks:l,todayTasks:c,blockedTasks:d,overdueTasks:f,completedToday:h,totalCompletedTasks:p}}}catch(e){return console.error("Error fetching task stats:",e),{success:!1,error:e.message}}};async function U(e={}){let t=await (0,_.getServerSession)(b.authOptions);if(!t)return{success:!1,error:"Unauthorized"};let r=parseInt(t.user.id),n="admin"===(t.user.role||"developer");if(e.search||e.dateRange&&(e.dateRange.from||e.dateRange.to))return await $(r,n,e);JSON.stringify(e);let a=(0,w.unstable_cache)(async(e,t,r)=>$(e,t,r),["task-stats-filtered"],{revalidate:30,tags:["task-stats"]});return await a(r,n,e)}async function F(e={},t="daily"){if(!await (0,_.getServerSession)(b.authOptions))return{success:!1,error:"Unauthorized"};try{let[r,n]=await Promise.all([L(),U(e)]);if(!r.success||!n.success)throw Error(r.error||n.error||"Failed to fetch stats");let a=r.data,i=n.data,o="global",s=null;if(e.projectId&&"all"!==e.projectId&&!Array.isArray(e.projectId)){let t=parseInt(e.projectId.toString());isNaN(t)||(o="project",s=t)}let u={total_projects:a.total,active_projects:a.active,total_tasks:i.totalTasks,completed_tasks:i.totalCompletedTasks,overdue_tasks:i.overdueTasks,blocked_tasks:i.blockedTasks},l={};for(let[r,n]of Object.entries(u)){let a=e.statusId&&"all"!==e.statusId||e.search||e.priority||e.dateRange,i=null;a||(i=await C(o,s,r,n,t)),l[r]={value:n,trend:i}}return{success:!0,data:l}}catch(e){return console.error("Error fetching summary stats with trends:",e),{success:!1,error:e.message}}}async function G(e){if(!await (0,_.getServerSession)(b.authOptions))return new E.NextResponse("Unauthorized",{status:401});try{let{filters:t,period:r,format:n}=await e.json().catch(()=>({})),a=await F(t,r);if(!a.success||!a.data)return new E.NextResponse(a.error||"Failed to fetch stats",{status:500});let i=a.data,o="Metric,Value,Trend Direction,Trend Percentage,Context\n";for(let[e,t]of Object.entries(i)){let r=[e,t.value,t.trend?.direction||"neutral",JSON.stringify(t.trend?.percentage||0),"Global/User Dashboard"].join(",");o+=r+"\n"}return new E.NextResponse(o,{headers:{"Content-Type":"text/csv","Content-Disposition":`attachment; filename="stats-export-${new Date().toISOString().split("T")[0]}.csv"`}})}catch(e){return console.error("Export error:",e),new E.NextResponse("Internal Server Error",{status:500})}}(0,D.ensureServerEntryExports)([M,L,U,F]),(0,y.registerServerReference)(M,"408c06bc00554e58667a6497e03286e21786a0b4de",null),(0,y.registerServerReference)(L,"0067b4066470cdfc7051409a87b3c7ea74b1f3dbad",null),(0,y.registerServerReference)(U,"4092a06687f1e4d6d11b97639f194f16619a7c015f",null),(0,y.registerServerReference)(F,"60e05fd890f5d06ad446fdd4907a3fbe4311fe3ac9",null),e.s(["POST",()=>G],811435);var q=e.i(811435);let X=new t.AppRouteRouteModule({definition:{kind:r.RouteKind.APP_ROUTE,page:"/api/stats/export/route",pathname:"/api/stats/export",filename:"route",bundlePath:""},distDir:".next",relativeProjectDir:"",resolvedPagePath:"[project]/nxt/New folder/Project_Management_NXT/src/app/api/stats/export/route.ts",nextConfigOutput:"",userland:q}),{workAsyncStorage:B,workUnitAsyncStorage:K,serverHooks:z}=X;function W(){return(0,n.patchFetch)({workAsyncStorage:B,workUnitAsyncStorage:K})}async function Y(e,t,n){X.isDev&&(0,a.addRequestMeta)(e,"devRequestTimingInternalsEnd",process.hrtime.bigint());let E="/api/stats/export/route";E=E.replace(/\/index$/,"")||"/";let _=await X.prepare(e,t,{srcPage:E,multiZoneDraftMode:!1});if(!_)return t.statusCode=400,t.end("Bad Request"),null==n.waitUntil||n.waitUntil.call(n,Promise.resolve()),null;let{buildId:b,params:y,nextConfig:R,parsedUrl:S,isDraftMode:T,prerenderManifest:O,routerServerContext:w,isOnDemandRevalidate:N,revalidateOnlyGenerated:P,resolvedPathname:A,clientReferenceManifest:C,serverActionsManifest:x}=_,D=(0,s.normalizeAppPath)(E),j=!!(O.dynamicRoutes[D]||O.routes[A]),I=async()=>((null==w?void 0:w.render404)?await w.render404(e,t,S,!1):t.end("This page could not be found"),null);if(j&&!T){let e=!!O.routes[A],t=O.dynamicRoutes[D];if(t&&!1===t.fallback&&!e){if(R.experimental.adapterPath)return await I();throw new m.NoFallbackError}}let M=null;!j||X.isDev||T||(M="/index"===(M=A)?"/":M);let k=!0===X.isDev||!j,H=j&&!k;x&&C&&(0,o.setManifestsSingleton)({page:E,clientReferenceManifest:C,serverActionsManifest:x});let L=e.method||"GET",$=(0,i.getTracer)(),U=$.getActiveScopeSpan(),F={params:y,prerenderManifest:O,renderOpts:{experimental:{authInterrupts:!!R.experimental.authInterrupts},cacheComponents:!!R.cacheComponents,supportsDynamicResponse:k,incrementalCache:(0,a.getRequestMeta)(e,"incrementalCache"),cacheLifeProfiles:R.cacheLife,waitUntil:n.waitUntil,onClose:e=>{t.on("close",e)},onAfterTaskError:void 0,onInstrumentationRequestError:(t,r,n,a)=>X.onRequestError(e,t,n,a,w)},sharedContext:{buildId:b}},G=new u.NodeNextRequest(e),q=new u.NodeNextResponse(t),B=l.NextRequestAdapter.fromNodeNextRequest(G,(0,l.signalFromNodeResponse)(t));try{let o=async e=>X.handle(B,F).finally(()=>{if(!e)return;e.setAttributes({"http.status_code":t.statusCode,"next.rsc":!1});let r=$.getRootSpanAttributes();if(!r)return;if(r.get("next.span_type")!==c.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${r.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let n=r.get("next.route");if(n){let t=`${L} ${n}`;e.setAttributes({"next.route":n,"http.route":n,"next.span_name":t}),e.updateName(t)}else e.updateName(`${L} ${E}`)}),s=!!(0,a.getRequestMeta)(e,"minimalMode"),u=async a=>{var i,u;let l=async({previousCacheEntry:r})=>{try{if(!s&&N&&P&&!r)return t.statusCode=404,t.setHeader("x-nextjs-cache","REVALIDATED"),t.end("This page could not be found"),null;let i=await o(a);e.fetchMetrics=F.renderOpts.fetchMetrics;let u=F.renderOpts.pendingWaitUntil;u&&n.waitUntil&&(n.waitUntil(u),u=void 0);let l=F.renderOpts.collectedTags;if(!j)return await (0,f.sendResponse)(G,q,i,F.renderOpts.pendingWaitUntil),null;{let e=await i.blob(),t=(0,h.toNodeOutgoingHttpHeaders)(i.headers);l&&(t[g.NEXT_CACHE_TAGS_HEADER]=l),!t["content-type"]&&e.type&&(t["content-type"]=e.type);let r=void 0!==F.renderOpts.collectedRevalidate&&!(F.renderOpts.collectedRevalidate>=g.INFINITE_CACHE)&&F.renderOpts.collectedRevalidate,n=void 0===F.renderOpts.collectedExpire||F.renderOpts.collectedExpire>=g.INFINITE_CACHE?void 0:F.renderOpts.collectedExpire;return{value:{kind:v.CachedRouteKind.APP_ROUTE,status:i.status,body:Buffer.from(await e.arrayBuffer()),headers:t},cacheControl:{revalidate:r,expire:n}}}}catch(t){throw(null==r?void 0:r.isStale)&&await X.onRequestError(e,t,{routerKind:"App Router",routePath:E,routeType:"route",revalidateReason:(0,d.getRevalidateReason)({isStaticGeneration:H,isOnDemandRevalidate:N})},!1,w),t}},c=await X.handleResponse({req:e,nextConfig:R,cacheKey:M,routeKind:r.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:O,isRoutePPREnabled:!1,isOnDemandRevalidate:N,revalidateOnlyGenerated:P,responseGenerator:l,waitUntil:n.waitUntil,isMinimalMode:s});if(!j)return null;if((null==c||null==(i=c.value)?void 0:i.kind)!==v.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==c||null==(u=c.value)?void 0:u.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});s||t.setHeader("x-nextjs-cache",N?"REVALIDATED":c.isMiss?"MISS":c.isStale?"STALE":"HIT"),T&&t.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let m=(0,h.fromNodeOutgoingHttpHeaders)(c.value.headers);return s&&j||m.delete(g.NEXT_CACHE_TAGS_HEADER),!c.cacheControl||t.getHeader("Cache-Control")||m.get("Cache-Control")||m.set("Cache-Control",(0,p.getCacheControlHeader)(c.cacheControl)),await (0,f.sendResponse)(G,q,new Response(c.value.body,{headers:m,status:c.value.status||200})),null};U?await u(U):await $.withPropagatedContext(e.headers,()=>$.trace(c.BaseServerSpan.handleRequest,{spanName:`${L} ${E}`,kind:i.SpanKind.SERVER,attributes:{"http.method":L,"http.target":e.url}},u))}catch(t){if(t instanceof m.NoFallbackError||await X.onRequestError(e,t,{routerKind:"App Router",routePath:D,routeType:"route",revalidateReason:(0,d.getRevalidateReason)({isStaticGeneration:H,isOnDemandRevalidate:N})},!1,w),j)throw t;return await (0,f.sendResponse)(G,q,new Response(null,{status:500})),null}}e.s(["handler",()=>Y,"patchFetch",()=>W,"routeModule",()=>X,"serverHooks",()=>z,"workAsyncStorage",()=>B,"workUnitAsyncStorage",()=>K],804542)}];

//# sourceMappingURL=6ace2_next_00e7832c._.js.map