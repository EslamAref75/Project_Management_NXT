module.exports=[883771,a=>{"use strict";var b=a.i(295394),c=a.i(313954),d=a.i(737399),e=a.i(301209),f=a.i(917710),g=a.i(515790),h=a.i(38032),i=a.i(486944),j=a.i(631375),k=a.i(70902),l=a.i(514750),m=a.i(107346);function n({team:a}){let c=a._count?.members||0,d=a._count?.projectTeams||0,n=a._count?.tasks||0;return(0,b.jsxs)("div",{className:"grid gap-6 md:grid-cols-2",children:[(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Team Information"}),(0,b.jsx)(e.CardDescription,{children:"Basic team details"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Name"}),(0,b.jsx)("p",{className:"text-lg font-semibold",children:a.name})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),(0,b.jsx)("p",{className:"text-sm",children:a.description||"No description provided"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Status"}),(0,b.jsx)("div",{className:"mt-1",children:(0,b.jsx)(f.Badge,{variant:"active"===a.status?"default":"secondary",children:"active"===a.status?(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(l.CheckCircle2,{className:"h-3 w-3 mr-1"}),"Active"]}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(m.Clock,{className:"h-3 w-3 mr-1"}),"Inactive"]})})})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"text-sm font-medium text-muted-foreground",children:"Created"}),(0,b.jsx)("p",{className:"text-sm",children:(0,h.format)(new Date(a.createdAt),"PPp")})]})]})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Team Lead"}),(0,b.jsx)(e.CardDescription,{children:"Team leadership information"})]}),(0,b.jsx)(e.CardContent,{children:a.teamLead?(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)(g.Avatar,{className:"h-16 w-16",children:[(0,b.jsx)(g.AvatarImage,{src:a.teamLead.avatarUrl||void 0}),(0,b.jsx)(g.AvatarFallback,{children:a.teamLead.username.substring(0,2).toUpperCase()})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold text-lg",children:a.teamLead.username}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.teamLead.email}),(0,b.jsx)(f.Badge,{variant:"outline",className:"mt-1",children:a.teamLead.role})]})]}):(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No team lead assigned"})})]}),(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{children:[(0,b.jsx)(e.CardTitle,{children:"Statistics"}),(0,b.jsx)(e.CardDescription,{children:"Team metrics and counts"})]}),(0,b.jsxs)(e.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(i.Users,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Members"})]}),(0,b.jsx)("span",{className:"text-2xl font-bold",children:c})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(k.FolderKanban,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Projects"})]}),(0,b.jsx)("span",{className:"text-2xl font-bold",children:d})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)(j.Calendar,{className:"h-5 w-5 text-muted-foreground"}),(0,b.jsx)("span",{className:"text-sm font-medium",children:"Tasks"})]}),(0,b.jsx)("span",{className:"text-2xl font-bold",children:n})]})]})]})]})}var o=a.i(682600),p=a.i(638236),q=a.i(66796),r=a.i(985952),r=r,s=a.i(97155),t=a.i(732378),u=a.i(167764),v=a.i(395301);let w=(0,v.createServerReference)("70cfe62d32831304d63f72a2766fa81478529867f3",v.callServer,void 0,v.findSourceMapURL,"addMemberToTeam");var x=a.i(489158),y=a.i(210731);function z({open:a,onOpenChange:d,teamId:e,availableUsers:f}){let g=(0,x.useRouter)(),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(""),[l,m]=(0,c.useState)("member"),n=async a=>{if(a.preventDefault(),!j)return;i(!0);let b=await w(e,parseInt(j),l);i(!1),b?.success?(k(""),m("member"),d(!1),g.refresh()):alert(b?.error||"Failed to add member")};return(0,b.jsx)(s.Dialog,{open:a,onOpenChange:d,children:(0,b.jsx)(s.DialogContent,{children:(0,b.jsxs)("form",{onSubmit:n,children:[(0,b.jsxs)(s.DialogHeader,{children:[(0,b.jsx)(s.DialogTitle,{children:"Add Team Member"}),(0,b.jsx)(s.DialogDescription,{children:"Select a user to add to this team"})]}),(0,b.jsxs)("div",{className:"space-y-4 py-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{htmlFor:"userId",children:"User"}),(0,b.jsxs)(t.Select,{value:j,onValueChange:k,required:!0,children:[(0,b.jsx)(t.SelectTrigger,{id:"userId",children:(0,b.jsx)(t.SelectValue,{placeholder:"Select a user"})}),(0,b.jsx)(t.SelectContent,{children:f.map(a=>(0,b.jsxs)(t.SelectItem,{value:a.id.toString(),children:[a.username," (",a.email,")"]},a.id))})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{htmlFor:"role",children:"Role"}),(0,b.jsxs)(t.Select,{value:l,onValueChange:m,children:[(0,b.jsx)(t.SelectTrigger,{id:"role",children:(0,b.jsx)(t.SelectValue,{})}),(0,b.jsxs)(t.SelectContent,{children:[(0,b.jsx)(t.SelectItem,{value:"member",children:"Member"}),(0,b.jsx)(t.SelectItem,{value:"lead",children:"Lead"}),(0,b.jsx)(t.SelectItem,{value:"admin",children:"Admin"})]})]})]})]}),(0,b.jsxs)(s.DialogFooter,{children:[(0,b.jsx)(o.Button,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),(0,b.jsxs)(o.Button,{type:"submit",disabled:h||!j,children:[h&&(0,b.jsx)(y.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Member"]})]})]})})})}let A=(0,v.createServerReference)("60b69acfa49cb854dd3912651668ce9af6d01a1527",v.callServer,void 0,v.findSourceMapURL,"removeMemberFromTeam");function B({team:a,allUsers:d}){let i=(0,x.useRouter)(),[j,k]=(0,c.useState)(!1),l=async b=>{if(!confirm("Are you sure you want to remove this member from the team?"))return;let c=await A(a.id,b);c?.success?i.refresh():alert(c?.error||"Failed to remove member")},m=a.members||[],n=m.map(a=>a.userId),s=d.filter(a=>!n.includes(a.id));return(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{children:"Team Members"}),(0,b.jsx)(e.CardDescription,{children:"Manage team members and their roles"})]}),s.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(o.Button,{onClick:()=>k(!0),children:[(0,b.jsx)(p.Plus,{className:"h-4 w-4 mr-2"}),"Add Member"]}),(0,b.jsx)(z,{open:j,onOpenChange:k,teamId:a.id,availableUsers:s})]})]}),(0,b.jsx)(e.CardContent,{children:0===m.length?(0,b.jsxs)("div",{className:"text-center py-8 border border-dashed rounded-lg",children:[(0,b.jsx)(r.default,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"No members in this team"}),s.length>0&&(0,b.jsxs)(o.Button,{onClick:()=>k(!0),children:[(0,b.jsx)(p.Plus,{className:"h-4 w-4 mr-2"}),"Add Member"]})]}):(0,b.jsx)("div",{className:"space-y-4",children:m.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-4",children:[(0,b.jsxs)(g.Avatar,{className:"h-12 w-12",children:[(0,b.jsx)(g.AvatarImage,{src:a.user?.avatarUrl||void 0}),(0,b.jsx)(g.AvatarFallback,{children:a.user?.username?.substring(0,2).toUpperCase()||"U"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"font-semibold",children:a.user?.username||"Unknown"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.user?.email||""}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,b.jsx)(f.Badge,{variant:"outline",children:a.role}),(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Joined ",(0,h.format)(new Date(a.joinedAt),"MMM d, yyyy")]})]})]})]}),(0,b.jsx)(o.Button,{variant:"ghost",size:"icon",onClick:()=>l(a.userId),children:(0,b.jsx)(q.X,{className:"h-4 w-4"})})]},a.id))})})]})}let C=(0,v.createServerReference)("60ef84a9ad667e7d49ef9c80bd8d94651b75e6268f",v.callServer,void 0,v.findSourceMapURL,"addProjectToTeam");function D({open:a,onOpenChange:d,teamId:e,availableProjects:f}){let g=(0,x.useRouter)(),[h,i]=(0,c.useState)(!1),[j,k]=(0,c.useState)(""),l=async a=>{if(a.preventDefault(),!j)return;i(!0);let b=await C(e,parseInt(j));i(!1),b?.success?(k(""),d(!1),g.refresh()):alert(b?.error||"Failed to add project")};return(0,b.jsx)(s.Dialog,{open:a,onOpenChange:d,children:(0,b.jsx)(s.DialogContent,{children:(0,b.jsxs)("form",{onSubmit:l,children:[(0,b.jsxs)(s.DialogHeader,{children:[(0,b.jsx)(s.DialogTitle,{children:"Add Project to Team"}),(0,b.jsx)(s.DialogDescription,{children:"Select a project to assign to this team"})]}),(0,b.jsx)("div",{className:"space-y-4 py-4",children:(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(u.Label,{htmlFor:"projectId",children:"Project"}),(0,b.jsxs)(t.Select,{value:j,onValueChange:k,required:!0,children:[(0,b.jsx)(t.SelectTrigger,{id:"projectId",children:(0,b.jsx)(t.SelectValue,{placeholder:"Select a project"})}),(0,b.jsx)(t.SelectContent,{children:f.map(a=>(0,b.jsxs)(t.SelectItem,{value:a.id.toString(),children:[a.name," (",a.code,")"]},a.id))})]})]})}),(0,b.jsxs)(s.DialogFooter,{children:[(0,b.jsx)(o.Button,{type:"button",variant:"outline",onClick:()=>d(!1),children:"Cancel"}),(0,b.jsxs)(o.Button,{type:"submit",disabled:h||!j,children:[h&&(0,b.jsx)(y.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Add Project"]})]})]})})})}let E=(0,v.createServerReference)("60d6167c34faec1d09835a40e8132b96c1ee7a4ed0",v.callServer,void 0,v.findSourceMapURL,"removeProjectFromTeam");var F=a.i(443161);function G({team:a,availableProjects:d}){let g=(0,x.useRouter)(),[i,l]=(0,c.useState)(!1),m=async b=>{if(!confirm("Are you sure you want to remove this project from the team?"))return;let c=await E(a.id,b);c?.success?g.refresh():alert(c?.error||"Failed to remove project")},n=a.projectTeams?.map(a=>a.project)||[],r={planned:"bg-gray-100 text-gray-800",active:"bg-green-100 text-green-800",on_hold:"bg-yellow-100 text-yellow-800",completed:"bg-blue-100 text-blue-800",cancelled:"bg-red-100 text-red-800"};return(0,b.jsxs)(e.Card,{children:[(0,b.jsxs)(e.CardHeader,{className:"flex flex-row items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(e.CardTitle,{children:"Team Projects"}),(0,b.jsx)(e.CardDescription,{children:"Projects assigned to this team"})]}),d.length>0&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(o.Button,{onClick:()=>l(!0),children:[(0,b.jsx)(p.Plus,{className:"h-4 w-4 mr-2"}),"Add Project"]}),(0,b.jsx)(D,{open:i,onOpenChange:l,teamId:a.id,availableProjects:d})]})]}),(0,b.jsx)(e.CardContent,{children:0===n.length?(0,b.jsxs)("div",{className:"text-center py-8 border border-dashed rounded-lg",children:[(0,b.jsx)(k.FolderKanban,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground mb-4",children:"No projects assigned to this team"}),d.length>0&&(0,b.jsxs)(o.Button,{onClick:()=>l(!0),children:[(0,b.jsx)(p.Plus,{className:"h-4 w-4 mr-2"}),"Add Project"]})]}):(0,b.jsx)("div",{className:"space-y-4",children:n.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-muted/50 transition-colors",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,b.jsx)(F.default,{href:`/dashboard/projects/${a.id}`,className:"font-semibold text-lg hover:underline",children:a.name}),(0,b.jsx)(f.Badge,{className:r[a.status]||"bg-gray-100 text-gray-800",children:a.status})]}),(0,b.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,b.jsx)("span",{className:"font-mono",children:a.code}),a.projectManager&&(0,b.jsxs)("span",{children:["PM: ",a.projectManager.username]}),a.startDate&&(0,b.jsxs)("span",{className:"flex items-center gap-1",children:[(0,b.jsx)(j.Calendar,{className:"h-3 w-3"}),(0,h.format)(new Date(a.startDate),"MMM d, yyyy")]})]})]}),(0,b.jsx)(o.Button,{variant:"ghost",size:"icon",onClick:()=>m(a.id),children:(0,b.jsx)(q.X,{className:"h-4 w-4"})})]},a.id))})})]})}function H({team:a,availableProjects:e,allUsers:f}){(0,x.useRouter)();let[g,h]=(0,c.useState)("overview");return a?(0,b.jsxs)(d.Tabs,{value:g,onValueChange:h,className:"space-y-6",children:[(0,b.jsxs)(d.TabsList,{children:[(0,b.jsx)(d.TabsTrigger,{value:"overview",children:"Overview"}),(0,b.jsx)(d.TabsTrigger,{value:"members",children:"Members"}),(0,b.jsx)(d.TabsTrigger,{value:"projects",children:"Projects"})]}),(0,b.jsx)(d.TabsContent,{value:"overview",className:"space-y-6",children:(0,b.jsx)(n,{team:a})}),(0,b.jsx)(d.TabsContent,{value:"members",className:"space-y-6",children:(0,b.jsx)(B,{team:a,allUsers:f})}),(0,b.jsx)(d.TabsContent,{value:"projects",className:"space-y-6",children:(0,b.jsx)(G,{team:a,availableProjects:e})})]}):(0,b.jsx)("div",{children:"Team not found"})}a.s(["TeamDetailsPage",()=>H],883771)}];

//# sourceMappingURL=36f85_Project_Management_NXT_src_components_teams_team-details-page_tsx_ac435408._.js.map