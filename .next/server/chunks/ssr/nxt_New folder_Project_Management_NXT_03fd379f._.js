module.exports=[669129,a=>{"use strict";var b=a.i(49411);a.s(["Settings",()=>b.default])},835777,a=>{"use strict";var b=a.i(295394),c=a.i(489158),d=a.i(443161),e=a.i(401149),f=a.i(203595),f=f,g=a.i(70902),h=a.i(486944),i=a.i(477250),i=i,j=a.i(669129),k=a.i(65290),l=a.i(631375),m=a.i(402260),n=a.i(712318),o=a.i(231721);function p(){let a=(0,c.usePathname)(),{data:p}=(0,o.useSession)(),q=[{name:"Dashboard",href:"/dashboard",icon:f.default},{name:"Projects",href:"/dashboard/projects",icon:g.FolderKanban},{name:"All Tasks",href:"/dashboard/tasks",icon:g.FolderKanban},{name:"Today's Focus",href:"/dashboard/focus",icon:k.Target},...p?.user?.role==="admin"||p?.user?.role==="team_lead"?[{name:"Task Assignment",href:"/dashboard/today-tasks-assignment",icon:l.Calendar}]:[],{name:"Reports",href:"/dashboard/reports",icon:n.BarChart3},{name:"Teams",href:"/dashboard/teams",icon:i.default},{name:"Users",href:"/dashboard/users",icon:h.Users},{name:"Settings",href:"/dashboard/settings",icon:j.Settings},...p?.user?.role==="admin"?[{name:"Activity Logs",href:"/dashboard/admin/activity-logs",icon:m.FileText},{name:"Roles & Permissions",href:"/dashboard/admin/roles",icon:h.Users}]:[]];return(0,b.jsx)(b.Fragment,{children:q.map(c=>{let f=c.icon;return(0,b.jsxs)(d.default,{href:c.href,className:(0,e.cn)("flex items-center gap-3 rounded-lg px-3 py-2 text-muted-foreground transition-all hover:text-primary",a===c.href?"bg-muted text-primary":""),children:[(0,b.jsx)(f,{className:"h-4 w-4"}),c.name]},c.name)})})}a.s(["NavLinks",()=>p],835777)},206025,a=>{"use strict";var b=a.i(295394),c=a.i(443161),d=a.i(825800),e=a.i(388013),f=a.i(901617),f=f;function g(){let{settings:a}=(0,e.useSystemSettings)(),g=!a.systemLogo||"/assets/logo.png"===a.systemLogo;return(0,b.jsx)("div",{className:"flex h-[60px] items-center border-b px-6",children:(0,b.jsxs)(c.default,{className:"flex items-center gap-2 font-semibold",href:"/dashboard",children:[(0,b.jsx)("div",{className:"relative h-6 w-6",children:g?(0,b.jsx)(f.default,{className:"h-6 w-6"}):(0,b.jsx)(d.default,{src:a.systemLogo,alt:"Logo",fill:!0,className:"object-contain"})}),(0,b.jsx)("span",{className:"",children:a.systemName})]})})}a.s(["DashboardBranding",()=>g],206025)},304932,a=>{"use strict";var b=a.i(295394),c=a.i(999392),d=a.i(682600),e=a.i(515790),f=a.i(231721),g=a.i(669129),h=a.i(224306),h=h,i=a.i(731909),j=a.i(443161);function k(){let{data:a}=(0,f.useSession)();if(!a?.user)return null;let{name:k,email:l}=a.user,m=k?k.slice(0,2).toUpperCase():l?.slice(0,2).toUpperCase()||"U",n=["bg-blue-500","bg-purple-500","bg-pink-500","bg-green-500","bg-orange-500","bg-red-500","bg-indigo-500","bg-cyan-500"],o=m.charCodeAt(0)%n.length,p=n[o];return(0,b.jsxs)(c.DropdownMenu,{children:[(0,b.jsx)(c.DropdownMenuTrigger,{asChild:!0,children:(0,b.jsx)(d.Button,{variant:"ghost",className:"relative h-10 w-10 rounded-full p-0 hover:bg-gray-200/50 dark:hover:bg-gray-700/50 transition-colors duration-200",children:(0,b.jsxs)(e.Avatar,{className:"h-10 w-10",children:[(0,b.jsx)(e.AvatarImage,{src:"",alt:k||""}),(0,b.jsx)(e.AvatarFallback,{className:`${p} text-white font-semibold text-sm`,children:m})]})})}),(0,b.jsxs)(c.DropdownMenuContent,{className:"w-64 shadow-lg",align:"end",forceMount:!0,children:[(0,b.jsx)(c.DropdownMenuLabel,{className:"font-normal px-4 py-3",children:(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsxs)(e.Avatar,{className:"h-12 w-12",children:[(0,b.jsx)(e.AvatarImage,{src:"",alt:k||""}),(0,b.jsx)(e.AvatarFallback,{className:`${p} text-white font-semibold text-base`,children:m})]}),(0,b.jsxs)("div",{className:"flex flex-col space-y-1 min-w-0",children:[(0,b.jsx)("p",{className:"text-sm font-semibold leading-none truncate",children:k}),(0,b.jsx)("p",{className:"text-xs leading-none text-muted-foreground truncate",children:l})]})]})}),(0,b.jsx)(c.DropdownMenuSeparator,{className:"my-2"}),(0,b.jsxs)("div",{className:"px-2 py-2 flex items-center justify-center gap-4",children:[(0,b.jsx)(j.default,{href:"/dashboard/settings/profile",className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors duration-150",title:"Profile",children:(0,b.jsx)(i.User,{className:"h-5 w-5 text-muted-foreground"})}),(0,b.jsx)(j.default,{href:"/dashboard/settings",className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md transition-colors duration-150",title:"Settings",children:(0,b.jsx)(g.Settings,{className:"h-5 w-5 text-muted-foreground"})})]}),(0,b.jsx)(c.DropdownMenuSeparator,{className:"my-2"}),(0,b.jsx)("div",{className:"px-2 py-2",children:(0,b.jsx)(c.DropdownMenuItem,{onClick:()=>(0,f.signOut)({callbackUrl:"/login"}),className:"flex items-center justify-center cursor-pointer hover:bg-red-50 dark:hover:bg-red-900/20 rounded-md px-3 py-2 transition-colors duration-150 text-red-600 dark:text-red-400",title:"Log out",children:(0,b.jsx)(h.default,{className:"h-5 w-5"})})})]})]})}a.s(["UserButton",()=>k],304932)},462300,a=>{"use strict";var b=a.i(295394),c=a.i(313954),d=a.i(148907),e=a.i(231128),f=a.i(66796),g=a.i(401149);let h=d.Root,i=d.Trigger,j=d.Close,k=({...a})=>(0,b.jsx)(d.Portal,{...a});k.displayName=d.Portal.displayName;let l=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Overlay,{className:(0,g.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c,ref:e}));l.displayName=d.Overlay.displayName;let m=(0,e.cva)("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4 border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),n=c.forwardRef(({side:a="right",className:c,children:e,...h},i)=>(0,b.jsxs)(k,{children:[(0,b.jsx)(l,{}),(0,b.jsxs)(d.Content,{ref:i,className:(0,g.cn)(m({side:a}),c),...h,children:[e,(0,b.jsxs)(d.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[(0,b.jsx)(f.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));n.displayName=d.Content.displayName;let o=({className:a,...c})=>(0,b.jsx)("div",{className:(0,g.cn)("flex flex-col space-y-2 text-center sm:text-left",a),...c});o.displayName="SheetHeader";let p=({className:a,...c})=>(0,b.jsx)("div",{className:(0,g.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...c});p.displayName="SheetFooter";let q=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Title,{ref:e,className:(0,g.cn)("text-lg font-semibold text-foreground",a),...c}));q.displayName=d.Title.displayName;let r=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Description,{ref:e,className:(0,g.cn)("text-sm text-muted-foreground",a),...c}));r.displayName=d.Description.displayName,a.s(["Sheet",()=>h,"SheetClose",()=>j,"SheetContent",()=>n,"SheetDescription",()=>r,"SheetFooter",()=>p,"SheetHeader",()=>o,"SheetOverlay",()=>l,"SheetPortal",()=>k,"SheetTitle",()=>q,"SheetTrigger",()=>i])},743906,a=>{"use strict";var b=a.i(295394),c=a.i(313954),d=a.i(991466),e=a.i(682600),f=a.i(322695),g=a.i(917710),h=a.i(724627),i=a.i(424391),j=a.i(400770),k=a.i(443161),l=a.i(344770);function m(){let[a,m]=(0,c.useState)(0),[n,o]=(0,c.useState)([]),[p,q]=(0,c.useState)(!1),[r,s]=(0,c.useState)(!0);(0,c.useRef)(0),(0,c.useRef)(new Set),(0,c.useRef)(!1);let t=(0,c.useRef)(0);(0,c.useEffect)(()=>{},[]);let u=async(a,b)=>{(await (0,i.markProjectNotificationAsRead)(a,b)).success&&(o(a=>a.map(a=>a.id===b?{...a,isRead:!0}:a)),m(a=>{let b=Math.max(0,a-1);return t.current=b,b}))};return(0,b.jsxs)(f.Popover,{open:p,onOpenChange:q,children:[(0,b.jsx)(f.PopoverTrigger,{asChild:!0,children:(0,b.jsxs)(e.Button,{variant:"ghost",size:"icon",className:"relative",onClick:()=>q(!p),children:[(0,b.jsx)(d.Bell,{className:"h-5 w-5"}),a>0&&(0,b.jsx)(g.Badge,{variant:"destructive",className:"absolute -top-1 -right-1 h-5 w-5 flex items-center justify-center p-0 text-xs",children:a>99?"99+":a})]})}),(0,b.jsx)(f.PopoverContent,{className:"w-96 p-0",align:"end",children:(0,b.jsxs)("div",{className:"flex flex-col",children:[(0,b.jsx)("div",{className:"p-4 border-b",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("h3",{className:"font-semibold",children:"Project Notifications"}),(0,b.jsx)(k.default,{href:"/dashboard/projects",onClick:()=>q(!1),children:(0,b.jsx)(e.Button,{variant:"ghost",size:"sm",children:"View Projects"})})]})}),(0,b.jsx)(h.ScrollArea,{className:"h-[400px]",children:r?(0,b.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"Loading..."}):0===n.length?(0,b.jsx)("div",{className:"p-4 text-center text-sm text-muted-foreground",children:"No project notifications"}):(0,b.jsx)("div",{className:"divide-y",children:n.map(a=>(0,b.jsx)("div",{className:`p-4 hover:bg-muted/50 transition-colors ${!a.isRead?"bg-blue-50/50":""}`,children:(0,b.jsxs)("div",{className:"flex items-start gap-3",children:[(0,b.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,b.jsx)(g.Badge,{variant:"outline",className:`text-xs ${(a=>{switch(a){case"task":return"bg-blue-100 text-blue-800";case"dependency":return"bg-orange-100 text-orange-800";case"today_task":return"bg-green-100 text-green-800";case"project_admin":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}})(a.type)}`,children:a.type}),a.project&&(0,b.jsx)("span",{className:"text-xs text-muted-foreground",children:a.project.code}),!a.isRead&&(0,b.jsx)("div",{className:"h-2 w-2 rounded-full bg-blue-500"})]}),(0,b.jsxs)(k.default,{href:"task"===a.entityType&&a.entityId?`/dashboard/projects/${a.projectId}/tasks/${a.entityId}`:`/dashboard/projects/${a.projectId}/notifications`,onClick:()=>{a.isRead||u(a.projectId,a.id),q(!1)},className:"block",children:[(0,b.jsx)("p",{className:"font-medium text-sm",children:a.title}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:a.message})]}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground mt-2",children:(0,j.formatDistanceToNow)(new Date(a.createdAt),{addSuffix:!0})})]}),!a.isRead&&(0,b.jsx)(e.Button,{variant:"ghost",size:"icon",className:"h-6 w-6",onClick:b=>{b.stopPropagation(),u(a.projectId,a.id)},children:(0,b.jsx)(l.Check,{className:"h-4 w-4"})})]})},`${a.projectId}-${a.id}`))})})]})})]})}a.i(843962),a.s(["ProjectNotificationsHeader",()=>m])}];

//# sourceMappingURL=nxt_New%20folder_Project_Management_NXT_03fd379f._.js.map