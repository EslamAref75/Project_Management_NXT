module.exports=[854511,a=>{"use strict";a.s(["ProfileForm",()=>b]);let b=(0,a.i(250001).registerClientReference)(function(){throw Error("Attempted to call ProfileForm() from the server but ProfileForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/nxt/New folder/Project_Management_NXT/src/components/settings/profile-form.tsx <module evaluation>","ProfileForm")},464819,a=>{"use strict";a.s(["ProfileForm",()=>b]);let b=(0,a.i(250001).registerClientReference)(function(){throw Error("Attempted to call ProfileForm() from the server but ProfileForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/nxt/New folder/Project_Management_NXT/src/components/settings/profile-form.tsx","ProfileForm")},888385,a=>{"use strict";a.i(854511);var b=a.i(464819);a.n(b)},469791,a=>{"use strict";a.s(["PasswordForm",()=>b]);let b=(0,a.i(250001).registerClientReference)(function(){throw Error("Attempted to call PasswordForm() from the server but PasswordForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/nxt/New folder/Project_Management_NXT/src/components/settings/password-form.tsx <module evaluation>","PasswordForm")},845253,a=>{"use strict";a.s(["PasswordForm",()=>b]);let b=(0,a.i(250001).registerClientReference)(function(){throw Error("Attempted to call PasswordForm() from the server but PasswordForm is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/nxt/New folder/Project_Management_NXT/src/components/settings/password-form.tsx","PasswordForm")},573586,a=>{"use strict";a.i(469791);var b=a.i(845253);a.n(b)},686664,a=>{"use strict";a.s(["ScrollArea",()=>c,"ScrollBar",()=>d]);var b=a.i(250001);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call ScrollArea() from the server but ScrollArea is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/nxt/New folder/Project_Management_NXT/src/components/ui/scroll-area.tsx <module evaluation>","ScrollArea"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call ScrollBar() from the server but ScrollBar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/nxt/New folder/Project_Management_NXT/src/components/ui/scroll-area.tsx <module evaluation>","ScrollBar")},66024,a=>{"use strict";a.s(["ScrollArea",()=>c,"ScrollBar",()=>d]);var b=a.i(250001);let c=(0,b.registerClientReference)(function(){throw Error("Attempted to call ScrollArea() from the server but ScrollArea is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/nxt/New folder/Project_Management_NXT/src/components/ui/scroll-area.tsx","ScrollArea"),d=(0,b.registerClientReference)(function(){throw Error("Attempted to call ScrollBar() from the server but ScrollBar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/nxt/New folder/Project_Management_NXT/src/components/ui/scroll-area.tsx","ScrollBar")},1532,a=>{"use strict";a.i(686664);var b=a.i(66024);a.n(b)},765698,a=>{"use strict";a.s(["RBACInitializeButton",()=>b]);let b=(0,a.i(250001).registerClientReference)(function(){throw Error("Attempted to call RBACInitializeButton() from the server but RBACInitializeButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/nxt/New folder/Project_Management_NXT/src/components/settings/rbac-initialize-button.tsx <module evaluation>","RBACInitializeButton")},208641,a=>{"use strict";a.s(["RBACInitializeButton",()=>b]);let b=(0,a.i(250001).registerClientReference)(function(){throw Error("Attempted to call RBACInitializeButton() from the server but RBACInitializeButton is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/nxt/New folder/Project_Management_NXT/src/components/settings/rbac-initialize-button.tsx","RBACInitializeButton")},168236,a=>{"use strict";a.i(765698);var b=a.i(208641);a.n(b)},526095,a=>{"use strict";a.s(["UserSettingsPanel",()=>b]);let b=(0,a.i(250001).registerClientReference)(function(){throw Error("Attempted to call UserSettingsPanel() from the server but UserSettingsPanel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/nxt/New folder/Project_Management_NXT/src/components/settings/user-settings-panel.tsx <module evaluation>","UserSettingsPanel")},509183,a=>{"use strict";a.s(["UserSettingsPanel",()=>b]);let b=(0,a.i(250001).registerClientReference)(function(){throw Error("Attempted to call UserSettingsPanel() from the server but UserSettingsPanel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/nxt/New folder/Project_Management_NXT/src/components/settings/user-settings-panel.tsx","UserSettingsPanel")},546508,a=>{"use strict";a.i(526095);var b=a.i(509183);a.n(b)},498825,a=>{"use strict";a.s(["BrandingSettingsPanel",()=>b]);let b=(0,a.i(250001).registerClientReference)(function(){throw Error("Attempted to call BrandingSettingsPanel() from the server but BrandingSettingsPanel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/nxt/New folder/Project_Management_NXT/src/components/settings/branding-settings-panel.tsx <module evaluation>","BrandingSettingsPanel")},884884,a=>{"use strict";a.s(["BrandingSettingsPanel",()=>b]);let b=(0,a.i(250001).registerClientReference)(function(){throw Error("Attempted to call BrandingSettingsPanel() from the server but BrandingSettingsPanel is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"[project]/nxt/New folder/Project_Management_NXT/src/components/settings/branding-settings-panel.tsx","BrandingSettingsPanel")},441759,a=>{"use strict";a.i(498825);var b=a.i(884884);a.n(b)},56196,a=>{"use strict";var b=a.i(989118),c=a.i(450246),d=a.i(915929),e=a.i(347656),f=a.i(888385),g=a.i(573586),h=a.i(890928),i=a.i(561359),j=a.i(1532),k=a.i(407948);let l=(0,k.default)("shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);var m=a.i(534421),n=a.i(662338);async function o({userId:a}){let[c,d]=await Promise.all([(0,n.getUserRoles)(a).catch(()=>[]),(0,n.getUserPermissions)(a).catch(()=>[])]);return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsxs)(h.CardTitle,{className:"flex items-center gap-2",children:[(0,b.jsx)(l,{className:"h-5 w-5"}),"Assigned Roles"]}),(0,b.jsx)(h.CardDescription,{children:"Roles assigned to your account"})]}),(0,b.jsx)(h.CardContent,{children:0===c.length?(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No roles assigned"}):(0,b.jsx)("div",{className:"space-y-3",children:c.map(a=>(0,b.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(i.Badge,{variant:a.role.isSystemRole?"default":"secondary",children:a.role.name}),a.scopeType&&(0,b.jsxs)("span",{className:"text-xs text-muted-foreground",children:["Scope: ",a.scopeType,a.scopeId&&` (ID: ${a.scopeId})`]})]}),a.role.description&&(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.role.description})]},`${a.role.id}-${a.scopeType}-${a.scopeId}`))})})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Effective Permissions"}),(0,b.jsxs)(h.CardDescription,{children:["All permissions granted through your roles (",d.length," total)"]})]}),(0,b.jsx)(h.CardContent,{children:0===d.length?(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"No permissions granted"}):(0,b.jsx)(j.ScrollArea,{className:"h-[400px]",children:(0,b.jsx)("div",{className:"space-y-2",children:d.map(a=>(0,b.jsxs)("div",{className:"flex items-center gap-2 p-2 border rounded text-sm",children:[(0,b.jsx)(m.CheckCircle2,{className:"h-4 w-4 text-green-600 flex-shrink-0"}),(0,b.jsx)("code",{className:"text-xs",children:a})]},a))})})})]})]})}var p=a.i(168236),q=a.i(546508),r=a.i(441759),s=a.i(415750),t=a.i(225552),u=a.i(375310),v=a.i(811312);let w=(0,k.default)("folder-kanban",[["path",{d:"M4 20h16a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.93a2 2 0 0 1-1.66-.9l-.82-1.2A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13c0 1.1.9 2 2 2Z",key:"1fr9dc"}],["path",{d:"M8 10v4",key:"tgpxqk"}],["path",{d:"M12 10v2",key:"hh53o1"}],["path",{d:"M16 10v6",key:"1d6xys"}]]);var x=a.i(866236);async function y(){let a=await (0,c.getServerSession)(d.authOptions);if(!a)return null;let h=await e.prisma.user.findUnique({where:{id:parseInt(a.user.id)}});if(!h)return null;let[i,j]=await Promise.all([(0,t.getUserSettings)(parseInt(a.user.id)),(0,t.getResolvedUserSettings)(parseInt(a.user.id))]),k=i.success?i.settings:{},m=j.success?j.settings:{},n="admin"===a.user.role,y=await (0,x.getRoles)().catch(()=>[]),z=Array.isArray(y)&&y.length>0;return(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-3xl font-bold tracking-tight",children:"Settings"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"Manage your account settings and preferences."})]}),n&&(0,b.jsx)("div",{className:"flex gap-2",children:(0,b.jsx)(u.default,{href:"/dashboard/admin/roles",children:(0,b.jsxs)(v.Button,{variant:"outline",children:[(0,b.jsx)(l,{className:"h-4 w-4 mr-2"}),"Manage Roles"]})})})]}),(0,b.jsxs)(s.Tabs,{defaultValue:"profile",className:"space-y-4",children:[(0,b.jsxs)(s.TabsList,{children:[(0,b.jsx)(s.TabsTrigger,{value:"profile",children:"Profile"}),(0,b.jsx)(s.TabsTrigger,{value:"security",children:"Security"}),(0,b.jsx)(s.TabsTrigger,{value:"preferences",children:"Preferences"}),n&&(0,b.jsx)(s.TabsTrigger,{value:"roles",children:"Roles & RBAC"}),n&&(0,b.jsx)(s.TabsTrigger,{value:"branding",children:"Branding"}),n&&(0,b.jsx)(s.TabsTrigger,{value:"project-metadata",children:"Project Metadata Settings"})]}),(0,b.jsx)(s.TabsContent,{value:"profile",className:"space-y-4",children:(0,b.jsxs)("div",{className:"p-4 border rounded-lg bg-card",children:[(0,b.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Profile Information"}),(0,b.jsx)(f.ProfileForm,{user:h})]})}),(0,b.jsx)(s.TabsContent,{value:"security",className:"space-y-4",children:(0,b.jsxs)("div",{className:"p-4 border rounded-lg bg-card",children:[(0,b.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Change Password"}),(0,b.jsx)(g.PasswordForm,{})]})}),(0,b.jsx)(s.TabsContent,{value:"preferences",className:"space-y-4",children:i.error?(0,b.jsx)("div",{className:"p-4 border rounded-lg bg-card",children:(0,b.jsx)("p",{className:"text-destructive",children:i.error})}):(0,b.jsx)(q.UserSettingsPanel,{userId:parseInt(a.user.id),userSettings:k,resolvedSettings:m})}),n&&(0,b.jsx)(s.TabsContent,{value:"roles",className:"space-y-4",children:(0,b.jsxs)("div",{className:"p-4 border rounded-lg bg-card space-y-4",children:[!z&&(0,b.jsxs)("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg",children:[(0,b.jsx)("h3",{className:"text-lg font-medium mb-2 text-yellow-800 dark:text-yellow-200",children:"RBAC System Not Initialized"}),(0,b.jsx)("p",{className:"text-sm text-yellow-700 dark:text-yellow-300 mb-4",children:"The Role-Based Access Control system needs to be initialized. This will create default roles and permissions in the database."}),(0,b.jsx)(p.RBACInitializeButton,{})]}),z&&(0,b.jsx)("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-800 rounded-lg mb-4",children:(0,b.jsxs)("p",{className:"text-sm text-green-700 dark:text-green-300",children:["âœ“ RBAC system is initialized. ",y.length," role(s) available."]})}),(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium mb-4",children:"Your Roles & Permissions"}),(0,b.jsx)(o,{userId:parseInt(a.user.id)})]})]})}),n&&(0,b.jsx)(s.TabsContent,{value:"branding",className:"space-y-4",children:(0,b.jsx)("div",{className:"p-4 border rounded-lg bg-card",children:(0,b.jsx)(r.BrandingSettingsPanel,{})})}),n&&(0,b.jsx)(s.TabsContent,{value:"project-metadata",className:"space-y-4",children:(0,b.jsx)("div",{className:"p-4 border rounded-lg bg-card",children:(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Project Metadata Settings"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage project types, project statuses, and task statuses dynamically. Configure workflows and metadata that apply across all projects."})]}),(0,b.jsx)(u.default,{href:"/dashboard/settings/projects",children:(0,b.jsxs)(v.Button,{className:"w-full sm:w-auto",children:[(0,b.jsx)(w,{className:"h-4 w-4 mr-2"}),"Open Project Metadata Settings"]})})]})})})]})]})}a.s(["default",()=>y],56196)}];

//# sourceMappingURL=nxt_New%20folder_Project_Management_NXT_src_ef901774._.js.map