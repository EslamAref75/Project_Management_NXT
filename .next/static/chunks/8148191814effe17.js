(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,362987,e=>{"use strict";var t=e.i(181340);function a(){let[e,a]=(0,t.useState)([]);return{toast:function({title:e,description:t,variant:a}){console.log("Toast:",e,t,a)},toasts:e}}e.s(["useToast",()=>a])},813606,e=>{"use strict";var t=e.i(696009),a=e.i(91622);function r({className:e,type:r,...s}){return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...s})}e.s(["Input",()=>r])},988576,e=>{"use strict";let t=(0,e.i(751084).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["default",()=>t])},776574,e=>{"use strict";var t=e.i(988576);e.s(["Loader2",()=>t.default])},594652,e=>{"use strict";var t=e.i(696009),a=e.i(181340),r=e.i(35087),s=a.forwardRef((e,a)=>(0,t.jsx)(r.Primitive.label,{...e,ref:a,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));s.displayName="Label";var i=e.i(91622);function o({className:e,...a}){return(0,t.jsx)(s,{"data-slot":"label",className:(0,i.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...a})}e.s(["Label",()=>o],594652)},690905,e=>{"use strict";var t=e.i(696009),a=e.i(327565),r=e.i(451799),r=r,s=e.i(91622);function i({...e}){return(0,t.jsx)(a.Root,{"data-slot":"dialog",...e})}function o({...e}){return(0,t.jsx)(a.Trigger,{"data-slot":"dialog-trigger",...e})}function l({...e}){return(0,t.jsx)(a.Portal,{"data-slot":"dialog-portal",...e})}function n({className:e,...r}){return(0,t.jsx)(a.Overlay,{"data-slot":"dialog-overlay",className:(0,s.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",e),...r})}function d({className:e,children:i,showCloseButton:o=!0,...d}){return(0,t.jsxs)(l,{"data-slot":"dialog-portal",children:[(0,t.jsx)(n,{}),(0,t.jsxs)(a.Content,{"data-slot":"dialog-content",className:(0,s.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 outline-none sm:max-w-lg",e),...d,children:[i,o&&(0,t.jsxs)(a.Close,{"data-slot":"dialog-close",className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[(0,t.jsx)(r.default,{}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}function c({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-header",className:(0,s.cn)("flex flex-col gap-2 text-center sm:text-left",e),...a})}function u({className:e,...a}){return(0,t.jsx)("div",{"data-slot":"dialog-footer",className:(0,s.cn)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",e),...a})}function f({className:e,...r}){return(0,t.jsx)(a.Title,{"data-slot":"dialog-title",className:(0,s.cn)("text-lg leading-none font-semibold",e),...r})}function m({className:e,...r}){return(0,t.jsx)(a.Description,{"data-slot":"dialog-description",className:(0,s.cn)("text-muted-foreground text-sm",e),...r})}e.s(["Dialog",()=>i,"DialogContent",()=>d,"DialogDescription",()=>m,"DialogFooter",()=>u,"DialogHeader",()=>c,"DialogTitle",()=>f,"DialogTrigger",()=>o],690905)},191346,e=>{"use strict";let t=(0,e.i(751084).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);e.s(["default",()=>t])},237122,e=>{"use strict";var t=e.i(191346);e.s(["Trash2",()=>t.default])},238016,e=>{"use strict";let t;var a=e.i(696009),r=e.i(181340),s=e.i(846721),i=e.i(327565),o=e.i(618242),l=Symbol("radix.slottable"),n="AlertDialog",[d,c]=function(e,t=[]){let s=[],i=()=>{let t=s.map(e=>r.createContext(e));return function(a){let s=a?.[e]||t;return r.useMemo(()=>({[`__scope${e}`]:{...a,[e]:s}}),[a,s])}};return i.scopeName=e,[function(t,i){let o=r.createContext(i),l=s.length;s=[...s,i];let n=t=>{let{scope:s,children:i,...n}=t,d=s?.[e]?.[l]||o,c=r.useMemo(()=>n,Object.values(n));return(0,a.jsx)(d.Provider,{value:c,children:i})};return n.displayName=t+"Provider",[n,function(a,s){let n=s?.[e]?.[l]||o,d=r.useContext(n);if(d)return d;if(void 0!==i)return i;throw Error(`\`${a}\` must be used within \`${t}\``)}]},function(...e){let t=e[0];if(1===e.length)return t;let a=()=>{let a=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let s=a.reduce((t,{useScope:a,scopeName:r})=>{let s=a(e)[`__scope${r}`];return{...t,...s}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return a.scopeName=t.scopeName,a}(i,...t)]}(n,[i.createDialogScope]),u=(0,i.createDialogScope)(),f=e=>{let{__scopeAlertDialog:t,...r}=e,s=u(t);return(0,a.jsx)(i.Root,{...s,...r,modal:!0})};f.displayName=n;var m=r.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,o=u(r);return(0,a.jsx)(i.Trigger,{...o,...s,ref:t})});m.displayName="AlertDialogTrigger";var p=e=>{let{__scopeAlertDialog:t,...r}=e,s=u(t);return(0,a.jsx)(i.Portal,{...s,...r})};p.displayName="AlertDialogPortal";var g=r.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,o=u(r);return(0,a.jsx)(i.Overlay,{...o,...s,ref:t})});g.displayName="AlertDialogOverlay";var x="AlertDialogContent",[h,v]=d(x),b=((t=({children:e})=>(0,a.jsx)(a.Fragment,{children:e})).displayName="AlertDialogContent.Slottable",t.__radixId=l,t),j=r.forwardRef((e,t)=>{let{__scopeAlertDialog:l,children:n,...d}=e,c=u(l),f=r.useRef(null),m=(0,s.useComposedRefs)(t,f),p=r.useRef(null);return(0,a.jsx)(i.WarningProvider,{contentName:x,titleName:y,docsSlug:"alert-dialog",children:(0,a.jsx)(h,{scope:l,cancelRef:p,children:(0,a.jsxs)(i.Content,{role:"alertdialog",...c,...d,ref:m,onOpenAutoFocus:(0,o.composeEventHandlers)(d.onOpenAutoFocus,e=>{e.preventDefault(),p.current?.focus({preventScroll:!0})}),onPointerDownOutside:e=>e.preventDefault(),onInteractOutside:e=>e.preventDefault(),children:[(0,a.jsx)(b,{children:n}),(0,a.jsx)(T,{contentRef:f})]})})})});j.displayName=x;var y="AlertDialogTitle",D=r.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,o=u(r);return(0,a.jsx)(i.Title,{...o,...s,ref:t})});D.displayName=y;var N="AlertDialogDescription",w=r.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,o=u(r);return(0,a.jsx)(i.Description,{...o,...s,ref:t})});w.displayName=N;var A=r.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...s}=e,o=u(r);return(0,a.jsx)(i.Close,{...o,...s,ref:t})});A.displayName="AlertDialogAction";var C="AlertDialogCancel",R=r.forwardRef((e,t)=>{let{__scopeAlertDialog:r,...o}=e,{cancelRef:l}=v(C,r),n=u(r),d=(0,s.useComposedRefs)(t,l);return(0,a.jsx)(i.Close,{...n,...o,ref:d})});R.displayName=C;var T=({contentRef:e})=>{let t=`\`${x}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${x}\` by passing a \`${N}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${x}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return r.useEffect(()=>{document.getElementById(e.current?.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},k=e.i(91622),S=e.i(956569);let F=r.forwardRef(({className:e,...t},r)=>(0,a.jsx)(g,{className:(0,k.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:r}));F.displayName=g.displayName;let U=r.forwardRef(({className:e,...t},r)=>(0,a.jsxs)(p,{children:[(0,a.jsx)(F,{}),(0,a.jsx)(j,{ref:r,className:(0,k.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t})]}));U.displayName=j.displayName;let L=({className:e,...t})=>(0,a.jsx)("div",{className:(0,k.cn)("flex flex-col space-y-2 text-center sm:text-left",e),...t});L.displayName="AlertDialogHeader";let M=({className:e,...t})=>(0,a.jsx)("div",{className:(0,k.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});M.displayName="AlertDialogFooter";let O=r.forwardRef(({className:e,...t},r)=>(0,a.jsx)(D,{ref:r,className:(0,k.cn)("text-lg font-semibold",e),...t}));O.displayName=D.displayName;let P=r.forwardRef(({className:e,...t},r)=>(0,a.jsx)(w,{ref:r,className:(0,k.cn)("text-sm text-muted-foreground",e),...t}));P.displayName=w.displayName;let _=r.forwardRef(({className:e,...t},r)=>(0,a.jsx)(A,{ref:r,className:(0,k.cn)((0,S.buttonVariants)(),e),...t}));_.displayName=A.displayName;let z=r.forwardRef(({className:e,...t},r)=>(0,a.jsx)(R,{ref:r,className:(0,k.cn)((0,S.buttonVariants)({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));z.displayName=R.displayName,e.s(["AlertDialog",()=>f,"AlertDialogAction",()=>_,"AlertDialogCancel",()=>z,"AlertDialogContent",()=>U,"AlertDialogDescription",()=>P,"AlertDialogFooter",()=>M,"AlertDialogHeader",()=>L,"AlertDialogTitle",()=>O,"AlertDialogTrigger",()=>m],238016)},455857,e=>{"use strict";let t=(0,e.i(751084).default)("user-plus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);e.s(["default",()=>t])},477703,e=>{"use strict";var t=e.i(696009),a=e.i(181340),r=e.i(956569),s=e.i(690905),i=e.i(813606),o=e.i(594652),l=e.i(745999);let n=(0,l.createServerReference)("401fc4e21517ebfbd3eebabb3ac6ad3bf2fb7443a7",l.callServer,void 0,l.findSourceMapURL,"createUser");var d=e.i(776574),c=e.i(455857),c=c;function u({teams:e,roles:l=[]}){let[u,f]=(0,a.useState)(!1),[m,p]=(0,a.useState)(!1);async function g(e){e.preventDefault(),p(!0);let t=new FormData(e.currentTarget),a=await n(t);p(!1),a?.success?f(!1):alert(a?.error||"Failed to create user")}return(0,t.jsxs)(s.Dialog,{open:u,onOpenChange:f,children:[(0,t.jsx)(s.DialogTrigger,{asChild:!0,children:(0,t.jsxs)(r.Button,{children:[(0,t.jsx)(c.default,{className:"mr-2 h-4 w-4"}),"Create User"]})}),(0,t.jsxs)(s.DialogContent,{className:"sm:max-w-[425px]",children:[(0,t.jsxs)(s.DialogHeader,{children:[(0,t.jsx)(s.DialogTitle,{children:"Create User"}),(0,t.jsx)(s.DialogDescription,{children:"Create a new user with access credentials."})]}),(0,t.jsxs)("form",{onSubmit:g,children:[(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(o.Label,{htmlFor:"username",children:"Username"}),(0,t.jsx)(i.Input,{id:"username",name:"username",required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(o.Label,{htmlFor:"email",children:"Email"}),(0,t.jsx)(i.Input,{id:"email",name:"email",type:"email",required:!0})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(o.Label,{htmlFor:"password",children:"Password"}),(0,t.jsx)(i.Input,{id:"password",name:"password",type:"password",required:!0,minLength:6})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(o.Label,{htmlFor:"role",children:"Role"}),(0,t.jsx)("select",{id:"role",name:"role",className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",required:!0,children:l.length>0?l.map(e=>(0,t.jsxs)("option",{value:e.name,children:[e.name,e.description?` - ${e.description}`:""]},e.id)):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("option",{value:"developer",children:"Developer"}),(0,t.jsx)("option",{value:"team_lead",children:"Team Lead"}),(0,t.jsx)("option",{value:"project_manager",children:"Project Manager"}),(0,t.jsx)("option",{value:"admin",children:"Admin"})]})}),0===l.length&&(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"No roles found. Using default roles. Please initialize RBAC system in settings."})]}),(0,t.jsxs)("div",{className:"grid gap-2",children:[(0,t.jsx)(o.Label,{htmlFor:"teamId",children:"Assign Team (Optional)"}),(0,t.jsxs)("select",{id:"teamId",name:"teamId",className:"flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",children:[(0,t.jsx)("option",{value:"",children:"No Team"}),e.map(e=>(0,t.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,t.jsx)(s.DialogFooter,{children:(0,t.jsxs)(r.Button,{type:"submit",disabled:m,children:[m&&(0,t.jsx)(d.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),"Create User"]})})]})]})]})}e.s(["UserDialog",()=>u],477703)},195671,e=>{"use strict";var t=e.i(696009),a=e.i(181340),r=e.i(956569),s=e.i(745999);let i=(0,s.createServerReference)("40abdcd9a05b7e5b6a27a4efd7412defa3f340c60c",s.callServer,void 0,s.findSourceMapURL,"deleteUser"),o=(0,s.createServerReference)("60b33fdd6fc55215f2569d47e96e5d33d33f4f707f",s.callServer,void 0,s.findSourceMapURL,"toggleUserStatus");var l=e.i(237122),n=e.i(362987),d=e.i(479093),c=e.i(238016);function u({userId:e}){let[s,u]=(0,a.useTransition)(),[f,m]=(0,a.useState)(!1),{toast:p}=(0,n.useToast)(),g=(0,d.useRouter)();return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"flex gap-2",children:(0,t.jsx)(r.Button,{variant:"ghost",size:"icon",onClick:function(){confirm("Are you sure you want to delete this user? This action cannot be undone.")&&u(async()=>{let t=await i(e);t.error?"HAS_HISTORY"===t.code?m(!0):p({variant:"destructive",title:"Delete Failed",description:t.error}):(p({title:"User Deleted",description:"User has been successfully deleted."}),g.refresh())})},disabled:s,className:"text-destructive h-8 w-8 hover:bg-destructive/10 hover:text-destructive",children:(0,t.jsx)(l.Trash2,{className:"h-4 w-4"})})}),(0,t.jsx)(c.AlertDialog,{open:f,onOpenChange:m,children:(0,t.jsxs)(c.AlertDialogContent,{children:[(0,t.jsxs)(c.AlertDialogHeader,{children:[(0,t.jsx)(c.AlertDialogTitle,{children:"Cannot Delete User"}),(0,t.jsxs)(c.AlertDialogDescription,{children:["This user has associated history (Time Logs, Comments, etc.) that must be preserved for data integrity.",(0,t.jsx)("br",{}),(0,t.jsx)("br",{}),"Would you like to ",(0,t.jsx)("strong",{children:"deactivate"})," their account instead? This will revoke their access while keeping their data safe."]})]}),(0,t.jsxs)(c.AlertDialogFooter,{children:[(0,t.jsx)(c.AlertDialogCancel,{children:"Cancel"}),(0,t.jsx)(c.AlertDialogAction,{onClick:function(){u(async()=>{let t=await o(e,!1);t.success?(p({title:"User Deactivated",description:"User has been deactivated successfully."}),m(!1),g.refresh()):p({variant:"destructive",title:"Deactivation Failed",description:t.error||"Failed to deactivate user."})})},children:"Deactivate User"})]})]})})]})}e.s(["UserListActions",()=>u],195671)}]);